2022-02-18 13:54:09.263 +05:45 [INF] Web Application Starts...
2022-02-18 13:54:21.471 +05:45 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2022-02-18 13:54:21.640 +05:45 [INF] Entity Framework Core 3.1.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled 
2022-02-18 13:54:23.817 +05:45 [INF] Executed DbCommand (298ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-02-18 13:54:24.127 +05:45 [INF] Executed DbCommand (296ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-02-18 13:54:24.407 +05:45 [INF] Executed DbCommand (277ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-02-18 13:54:24.685 +05:45 [INF] Executed DbCommand (276ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-02-18 13:54:24.983 +05:45 [INF] Executed DbCommand (275ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-02-18 13:54:25.009 +05:45 [INF] No migrations were applied. The database is already up to date.
2022-02-18 13:54:25.293 +05:45 [INF] Executed DbCommand (278ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-02-18 13:54:25.578 +05:45 [INF] Executed DbCommand (283ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2022-02-18 13:54:26.234 +05:45 [INF] Executed DbCommand (273ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Store].[Store] AS [s]
        WHERE [s].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 13:54:26.537 +05:45 [INF] Executed DbCommand (272ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AppUser].[Type] AS [t]
2022-02-18 13:54:26.826 +05:45 [INF] Executed DbCommand (272ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [App].[PermissionGroup] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 13:54:27.107 +05:45 [INF] Executed DbCommand (272ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [App].[PermissionGroup] AS [p]
2022-02-18 13:54:27.433 +05:45 [INF] Executed DbCommand (274ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [App].[Permission] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 13:54:27.713 +05:45 [INF] Executed DbCommand (272ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [App].[Permission] AS [p]
2022-02-18 13:54:27.997 +05:45 [INF] Executed DbCommand (274ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppUser].[Role] AS [r]
        WHERE [r].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 13:54:28.285 +05:45 [INF] Executed DbCommand (280ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppUser].[AppUser] AS [a]
        WHERE [a].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 13:54:28.626 +05:45 [INF] Executed DbCommand (277ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Active], [a].[AddressId], [a].[AdminComment], [a].[AppUserTypeId], [a].[CannotLoginUntilDate], [a].[CreatedBy], [a].[CreatedOn], [a].[DepartmentId], [a].[Email], [a].[FacebookUserId], [a].[FailedLoginAttempts], [a].[FirstName], [a].[GoogleUserId], [a].[IsDeleted], [a].[IsEmailVerified], [a].[IsPhoneVerified], [a].[IsSystemAccount], [a].[JobTitle], [a].[LastName], [a].[LimitedToStores], [a].[MiddleName], [a].[ModifiedBy], [a].[ModifiedOn], [a].[PhoneNumber], [a].[RegisteredInStoreId], [a].[RequireReLogin], [a].[SystemName], [a].[Username]
FROM [AppUser].[AppUser] AS [a]
WHERE ([a].[IsDeleted] <> CAST(1 AS bit)) AND ([a].[Username] = N'superadmin')
2022-02-18 13:54:29.097 +05:45 [INF] Executed DbCommand (273ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customer].[Gender] AS [g]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 13:54:29.379 +05:45 [INF] Executed DbCommand (275ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Setting].[Seo] AS [s]
        WHERE [s].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 13:54:29.741 +05:45 [INF] Executed DbCommand (292ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Address].[Country] AS [c]
        WHERE [c].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 13:54:30.049 +05:45 [INF] Executed DbCommand (273ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Store].[ImageType] AS [i]
WHERE [i].[IsDeleted] <> CAST(1 AS bit)
2022-02-18 13:54:30.332 +05:45 [INF] Executed DbCommand (272ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Vendor].[DocumentType] AS [d]
2022-02-18 13:54:30.621 +05:45 [INF] Executed DbCommand (272ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Vendor].[Type] AS [t]
2022-02-18 13:54:30.932 +05:45 [INF] Executed DbCommand (273ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Vendor].[Status] AS [s]
2022-02-18 13:54:31.214 +05:45 [INF] Executed DbCommand (276ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Tax].[Category] AS [c]
        WHERE [c].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 13:54:31.495 +05:45 [INF] Executed DbCommand (273ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Tax].[Setting] AS [s]
        WHERE [s].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 13:54:31.777 +05:45 [INF] Executed DbCommand (273ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Shipping].[DeliveryDateRange] AS [d]
        WHERE [d].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 13:54:32.057 +05:45 [INF] Executed DbCommand (273ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Shipping].[ProductAvailabilityRange] AS [p]
        WHERE [p].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 13:54:32.343 +05:45 [INF] Executed DbCommand (274ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Payment].[PaymentMode] AS [p]
2022-02-18 13:54:32.626 +05:45 [INF] Executed DbCommand (273ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [GroupManagement].[NotificationType] AS [n]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 13:54:32.908 +05:45 [INF] Executed DbCommand (271ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [GroupManagement].[SendOption] AS [s]
2022-02-18 13:54:33.190 +05:45 [INF] Executed DbCommand (274ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Contact].[IssueType] AS [i]
        WHERE [i].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 13:54:33.473 +05:45 [INF] Executed DbCommand (273ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SectionGroups] AS [s]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 13:54:34.564 +05:45 [INF] User profile is available. Using 'C:\Users\krennova\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-02-18 13:54:34.807 +05:45 [INF] Starting Hangfire Server using job storage: 'Hangfire.MemoryStorage.MemoryStorage'
2022-02-18 13:54:34.808 +05:45 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2022-02-18 13:54:35.222 +05:45 [INF] Server desktop-03qevr8:8720:92e051d4 successfully announced in 343.2567 ms
2022-02-18 13:54:35.237 +05:45 [INF] Server desktop-03qevr8:8720:92e051d4 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2022-02-18 13:54:35.263 +05:45 [INF] Request starting HTTP/1.1 DEBUG http://localhost:50254/  0
2022-02-18 13:54:35.265 +05:45 [INF] Request starting HTTP/1.1 GET http://localhost:44375/index.html  
2022-02-18 13:54:35.263 +05:45 [INF] Request starting HTTP/1.1 GET http://localhost:44375/index.html  
2022-02-18 13:54:35.572 +05:45 [INF] Request finished in 333.4485ms 200 
2022-02-18 13:54:35.575 +05:45 [INF] Server desktop-03qevr8:8720:92e051d4 all the dispatchers started
2022-02-18 13:54:35.795 +05:45 [INF] Request finished in 558.7959ms 200 text/html;charset=utf-8
2022-02-18 13:54:35.795 +05:45 [INF] Request finished in 558.8247ms 200 text/html;charset=utf-8
2022-02-18 13:54:36.088 +05:45 [INF] Request starting HTTP/1.1 GET http://localhost:44375/swagger/v1/swagger.json  
2022-02-18 13:54:37.728 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/profiler/results application/json 45
2022-02-18 13:54:37.734 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/profiler/results application/json 45
2022-02-18 13:54:37.735 +05:45 [INF] Request finished in 1646.7057ms 200 application/json;charset=utf-8
2022-02-18 13:54:37.735 +05:45 [INF] Request starting HTTP/1.1 GET http://localhost:44375/swagger/v1/swagger.json  
2022-02-18 13:54:37.821 +05:45 [INF] Request finished in 87.3445ms 200 application/json
2022-02-18 13:54:37.828 +05:45 [INF] Request finished in 101.1064ms 200 application/json
2022-02-18 13:54:39.036 +05:45 [INF] Request finished in 1299.9605ms 200 application/json;charset=utf-8
2022-02-18 13:54:39.060 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/profiler/results application/json 45
2022-02-18 13:54:39.062 +05:45 [INF] Request finished in 2.1055ms 200 application/json
2022-02-18 13:54:39.073 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/profiler/results application/json 45
2022-02-18 13:54:39.074 +05:45 [INF] Request finished in 1.0912ms 200 application/json
2022-02-18 13:54:39.075 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/profiler/results application/json 45
2022-02-18 13:54:39.076 +05:45 [INF] Request finished in 0.8689ms 200 application/json
2022-02-18 13:54:54.705 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/api/AppUsers/ForgotPassword application/json-patch+json 82
2022-02-18 13:54:54.713 +05:45 [INF] CORS policy execution failed.
2022-02-18 13:54:54.713 +05:45 [INF] Request origin https://localhost:44375 does not have permission to access the resource.
2022-02-18 13:54:55.283 +05:45 [INF] Executing endpoint 'PreSchool.Controllers.AppUsersController.ForgotPassword (PreSchool)'
2022-02-18 13:54:55.325 +05:45 [INF] Route matched with {action = "ForgotPassword", controller = "AppUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] ForgotPassword(PreSchool.Application.Services.AppUsers.Models.Commands.ForgotPasswordCommand) on controller PreSchool.Controllers.AppUsersController (PreSchool).
2022-02-18 13:54:55.553 +05:45 [INF] Executing action method PreSchool.Controllers.AppUsersController.ForgotPassword (PreSchool) - Validation state: "Valid"
2022-02-18 13:54:55.560 +05:45 [INF] Entity Framework Core 3.1.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled 
2022-02-18 13:54:55.940 +05:45 [INF] Executed DbCommand (327ms) [Parameters=[@__forgotPassword_Username_0='test.demo1@yopmail.com' (Size = 128)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Active], [a].[AddressId], [a].[AdminComment], [a].[AppUserTypeId], [a].[CannotLoginUntilDate], [a].[CreatedBy], [a].[CreatedOn], [a].[DepartmentId], [a].[Email], [a].[FacebookUserId], [a].[FailedLoginAttempts], [a].[FirstName], [a].[GoogleUserId], [a].[IsDeleted], [a].[IsEmailVerified], [a].[IsPhoneVerified], [a].[IsSystemAccount], [a].[JobTitle], [a].[LastName], [a].[LimitedToStores], [a].[MiddleName], [a].[ModifiedBy], [a].[ModifiedOn], [a].[PhoneNumber], [a].[RegisteredInStoreId], [a].[RequireReLogin], [a].[SystemName], [a].[Username]
FROM [AppUser].[AppUser] AS [a]
WHERE ([a].[IsDeleted] <> CAST(1 AS bit)) AND (([a].[Username] = @__forgotPassword_Username_0) OR ([a].[PhoneNumber] = @__forgotPassword_Username_0))
2022-02-18 13:54:56.658 +05:45 [INF] Executed DbCommand (283ms) [Parameters=[@p0='9085', @p1='14653881' (Size = 4000), @p2='2022-02-18T23:54:55', @p3='2022-02-18T13:54:55', @p4=NULL (DbType = DateTime2), @p5='False'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AppUser].[OtpCode] ([AppUserId], [Code], [CodeExpireOn], [CodeGeneratedOn], [CodeUsedOn], [IsCodeUsed])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [AppUser].[OtpCode]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-02-18 13:54:57.431 +05:45 [INF] Entity Framework Core 3.1.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled 
2022-02-18 13:54:57.749 +05:45 [INF] Executed action method PreSchool.Controllers.AppUsersController.ForgotPassword (PreSchool), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2187.1776ms.
2022-02-18 13:54:57.765 +05:45 [INF] Executing ObjectResult, writing value of type 'System.Boolean'.
2022-02-18 13:54:57.796 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/profiler/results application/json 45
2022-02-18 13:54:57.827 +05:45 [INF] Request finished in 31.0146ms 404 text/plain
2022-02-18 13:54:57.828 +05:45 [INF] Executed action PreSchool.Controllers.AppUsersController.ForgotPassword (PreSchool) in 2467.3958ms
2022-02-18 13:54:57.829 +05:45 [INF] Executed endpoint 'PreSchool.Controllers.AppUsersController.ForgotPassword (PreSchool)'
2022-02-18 13:54:57.836 +05:45 [INF] HTTP POST /api/AppUsers/ForgotPassword responded 200 in 2548.6157 ms
2022-02-18 13:54:57.847 +05:45 [INF] Request finished in 3142.4824ms 200 application/json; charset=utf-8
2022-02-18 13:54:58.012 +05:45 [INF] Executed DbCommand (282ms) [Parameters=[@p0='<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body style="margin: 0;">
    <div class="main-wrapper"
         style="background: #f3f3f3; overflow: hidden; padding: 44px 24px 64px; font-family: 'Lato', 'Open Sans', sans-serif; font-size: 14px;">
        <div class="content-wrapper"
             style="background-blend-mode: 14; background: #fefefe; overflow: hidden; font-family: 'Lato', 'Open Sans', sans-serif; font-size: 14px; border-radius: 20px;">
            <div class="header-img"
                 style="display: flex; flex-direction: row; align-items: center; justify-content: space-between; flex-wrap: wrap; margin-bottom: 24px; padding-top: 24px;">
          
                <div class="right-img" style="margin-bottom: 14px; padding-left: 24px; padding-right: 34px;margin-left: auto;">
                    <div class="company-logo">
                        <img src="https://localhost:44375/Images/hattiya_logo_big.png" alt="" style="height: 40px;" />
                    </div>
                </div>
            </div>

            

<div class="content" style="padding: 0 24px 24px;">
    <div class="welcome"
         style="font-size: 20px; font-weight: 700; margin-bottom: 24px; font-family: 'Open Sans', 'Lato', sans-serif;">
        Recover your Hattiya account.
    </div>
    <div class="greeting" style="margin-bottom: 14px;">
        <span style="margin-right: 2px;">Dear </span>
        <span style="font-weight: 700;">test.demo1@yopmail.com</span>,
    </div>

    <div style="margin-bottom: 14px;">
        Please use 14653881, for accessing your account. We would request you to change your password immediately after login for secure browsing.
    </div>
    <div style="margin-bottom: 14px;">
        If you havenâ€™t requested for reset or for password change, we request you to immediately inform our support department at support@hattiya.com for further assistance.
    </div>
</div>
            <div class="email-footer" style="margin-top: 14px; padding: 0 24px 24px;">
                <div class="regard-wrap" style="margin-bottom: 24px;">
                    <div class="regard" style="margin-bottom: 4px;">
                        Regards,
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        Hattiya Pvt. Ltd
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        New Baneshwor, Kathmandu
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        <a href="support@hattiya.com" style="text-decoration: underline;color: #2196F3;">support@hattiya.com</a>
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        <a href="www.hattiya.com" style="text-decoration: underline;color: #2196F3;">www.hattiya.com</a>
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        <img src="https://localhost:44375/Images/hattiya_logo_big.png" alt="" style="height: 40px;" />

                    </div>
                </div>

            </div>
        </div>
                                                                                </div>
                                                                            </body>

</html>
' (Size = 4000), @p1='True', @p2='2022-02-18T13:54:57', @p3=NULL (DbType = Int32), @p4='Recover your Hattiya account.' (Size = 4000), @p5='test.demo1@yopmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Email].[History] ([Body], [SendByAppUser], [SendDateTime], [SenderId], [Subject], [ToEmailId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Email].[History]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-02-18 13:56:15.517 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/api/AppUsers/ResetPassword application/json-patch+json 144
2022-02-18 13:56:15.518 +05:45 [INF] CORS policy execution failed.
2022-02-18 13:56:15.518 +05:45 [INF] Request origin https://localhost:44375 does not have permission to access the resource.
2022-02-18 13:56:15.530 +05:45 [INF] Executing endpoint 'PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool)'
2022-02-18 13:56:15.534 +05:45 [INF] Route matched with {action = "ResetPassword", controller = "AppUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] ResetPassword(PreSchool.Application.Services.AppUsers.Models.Commands.ResetPasswordCommand) on controller PreSchool.Controllers.AppUsersController (PreSchool).
2022-02-18 13:56:15.613 +05:45 [INF] Executing action method PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool) - Validation state: "Valid"
2022-02-18 13:56:15.619 +05:45 [INF] Entity Framework Core 3.1.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled 
2022-02-18 13:56:15.997 +05:45 [INF] Executed DbCommand (281ms) [Parameters=[@__resetPassword_Username_0='test.demo1@yopmail.com' (Size = 128), @__resetPassword_AppUserTypeId_1='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Active], [t].[AddressId], [t].[AdminComment], [t].[AppUserTypeId], [t].[CannotLoginUntilDate], [t].[CreatedBy], [t].[CreatedOn], [t].[DepartmentId], [t].[Email], [t].[FacebookUserId], [t].[FailedLoginAttempts], [t].[FirstName], [t].[GoogleUserId], [t].[IsDeleted], [t].[IsEmailVerified], [t].[IsPhoneVerified], [t].[IsSystemAccount], [t].[JobTitle], [t].[LastName], [t].[LimitedToStores], [t].[MiddleName], [t].[ModifiedBy], [t].[ModifiedOn], [t].[PhoneNumber], [t].[RegisteredInStoreId], [t].[RequireReLogin], [t].[SystemName], [t].[Username], [p].[Id], [p].[AppUserId], [p].[CreatedOn], [p].[EnablePasswordLifetime], [p].[IsCurrent], [p].[PasswordExpiredOn], [p].[PasswordHash], [p].[PasswordSalt], [p].[RequiredPasswordChange]
FROM (
    SELECT TOP(1) [a].[Id], [a].[Active], [a].[AddressId], [a].[AdminComment], [a].[AppUserTypeId], [a].[CannotLoginUntilDate], [a].[CreatedBy], [a].[CreatedOn], [a].[DepartmentId], [a].[Email], [a].[FacebookUserId], [a].[FailedLoginAttempts], [a].[FirstName], [a].[GoogleUserId], [a].[IsDeleted], [a].[IsEmailVerified], [a].[IsPhoneVerified], [a].[IsSystemAccount], [a].[JobTitle], [a].[LastName], [a].[LimitedToStores], [a].[MiddleName], [a].[ModifiedBy], [a].[ModifiedOn], [a].[PhoneNumber], [a].[RegisteredInStoreId], [a].[RequireReLogin], [a].[SystemName], [a].[Username]
    FROM [AppUser].[AppUser] AS [a]
    WHERE ([a].[IsDeleted] <> CAST(1 AS bit)) AND ((([a].[Username] = @__resetPassword_Username_0) OR ([a].[PhoneNumber] = @__resetPassword_Username_0)) AND ([a].[AppUserTypeId] = @__resetPassword_AppUserTypeId_1))
    ORDER BY [a].[Id] DESC
) AS [t]
LEFT JOIN [AppUser].[Password] AS [p] ON [t].[Id] = [p].[AppUserId]
ORDER BY [t].[Id] DESC, [p].[Id]
2022-02-18 13:56:16.015 +05:45 [INF] Executed action PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool) in 480.6451ms
2022-02-18 13:56:16.016 +05:45 [INF] Executed endpoint 'PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool)'
2022-02-18 13:56:16.016 +05:45 [ERR] HTTP POST /api/AppUsers/ResetPassword responded 500 in 486.4788 ms
PreSchool.Application.Exceptions.NotFoundException: Invalid username or code
   at PreSchool.Application.Services.AppUsers.AppUserService.ResetPassword(ResetPasswordCommand resetPassword) in D:\Krenova\Project\PreSchool\Src\PreSchool.Application\Services\AppUsers\AppUserService.cs:line 777
   at PreSchool.Controllers.AppUsersController.ResetPassword(ResetPasswordCommand resetPassword) in D:\Krenova\Project\PreSchool\Src\PreSchool\Controllers\AppUsersController.cs:line 128
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerAc2022-02-18 13:57:57.361 +05:45 [INF] Web Application Starts...
2022-02-18 13:58:06.630 +05:45 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2022-02-18 13:58:06.795 +05:45 [INF] Entity Framework Core 3.1.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled 
2022-02-18 13:58:08.977 +05:45 [INF] Executed DbCommand (300ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-02-18 13:58:09.288 +05:45 [INF] Executed DbCommand (294ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-02-18 13:58:09.560 +05:45 [INF] Executed DbCommand (269ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-02-18 13:58:09.831 +05:45 [INF] Executed DbCommand (269ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-02-18 13:58:10.125 +05:45 [INF] Executed DbCommand (272ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-02-18 13:58:10.159 +05:45 [INF] No migrations were applied. The database is already up to date.
2022-02-18 13:58:10.446 +05:45 [INF] Executed DbCommand (271ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-02-18 13:58:10.719 +05:45 [INF] Executed DbCommand (270ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2022-02-18 13:58:11.291 +05:45 [INF] Executed DbCommand (268ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Store].[Store] AS [s]
        WHERE [s].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 13:58:11.596 +05:45 [INF] Executed DbCommand (268ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AppUser].[Type] AS [t]
2022-02-18 13:58:11.886 +05:45 [INF] Executed DbCommand (271ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [App].[PermissionGroup] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 13:58:12.165 +05:45 [INF] Executed DbCommand (270ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [App].[PermissionGroup] AS [p]
2022-02-18 13:58:12.502 +05:45 [INF] Executed DbCommand (270ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [App].[Permission] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 13:58:12.787 +05:45 [INF] Executed DbCommand (279ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [App].[Permission] AS [p]
2022-02-18 13:58:13.078 +05:45 [INF] Executed DbCommand (275ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppUser].[Role] AS [r]
        WHERE [r].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 13:58:13.358 +05:45 [INF] Executed DbCommand (270ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppUser].[AppUser] AS [a]
        WHERE [a].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 13:58:13.735 +05:45 [INF] Executed DbCommand (270ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Active], [a].[AddressId], [a].[AdminComment], [a].[AppUserTypeId], [a].[CannotLoginUntilDate], [a].[CreatedBy], [a].[CreatedOn], [a].[DepartmentId], [a].[Email], [a].[FacebookUserId], [a].[FailedLoginAttempts], [a].[FirstName], [a].[GoogleUserId], [a].[IsDeleted], [a].[IsEmailVerified], [a].[IsPhoneVerified], [a].[IsSystemAccount], [a].[JobTitle], [a].[LastName], [a].[LimitedToStores], [a].[MiddleName], [a].[ModifiedBy], [a].[ModifiedOn], [a].[PhoneNumber], [a].[RegisteredInStoreId], [a].[RequireReLogin], [a].[SystemName], [a].[Username]
FROM [AppUser].[AppUser] AS [a]
WHERE ([a].[IsDeleted] <> CAST(1 AS bit)) AND ([a].[Username] = N'superadmin')
2022-02-18 13:58:14.320 +05:45 [INF] Executed DbCommand (272ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customer].[Gender] AS [g]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 13:58:14.610 +05:45 [INF] Executed DbCommand (282ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Setting].[Seo] AS [s]
        WHERE [s].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 13:58:15.102 +05:45 [INF] Executed DbCommand (326ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Address].[Country] AS [c]
        WHERE [c].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 13:58:15.403 +05:45 [INF] Executed DbCommand (269ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Store].[ImageType] AS [i]
WHERE [i].[IsDeleted] <> CAST(1 AS bit)
2022-02-18 13:58:15.679 +05:45 [INF] Executed DbCommand (268ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Vendor].[DocumentType] AS [d]
2022-02-18 13:58:15.969 +05:45 [INF] Executed DbCommand (281ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Vendor].[Type] AS [t]
2022-02-18 13:58:16.248 +05:45 [INF] Executed DbCommand (268ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Vendor].[Status] AS [s]
2022-02-18 13:58:16.536 +05:45 [INF] Executed DbCommand (280ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Tax].[Category] AS [c]
        WHERE [c].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 13:58:16.815 +05:45 [INF] Executed DbCommand (270ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Tax].[Setting] AS [s]
        WHERE [s].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 13:58:17.100 +05:45 [INF] Executed DbCommand (279ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Shipping].[DeliveryDateRange] AS [d]
        WHERE [d].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 13:58:17.375 +05:45 [INF] Executed DbCommand (268ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Shipping].[ProductAvailabilityRange] AS [p]
        WHERE [p].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 13:58:17.650 +05:45 [INF] Executed DbCommand (267ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Payment].[PaymentMode] AS [p]
2022-02-18 13:58:17.933 +05:45 [INF] Executed DbCommand (278ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [GroupManagement].[NotificationType] AS [n]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 13:58:18.210 +05:45 [INF] Executed DbCommand (271ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [GroupManagement].[SendOption] AS [s]
2022-02-18 13:58:18.485 +05:45 [INF] Executed DbCommand (269ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Contact].[IssueType] AS [i]
        WHERE [i].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 13:58:18.758 +05:45 [INF] Executed DbCommand (268ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SectionGroups] AS [s]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 13:58:19.653 +05:45 [INF] User profile is available. Using 'C:\Users\krennova\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-02-18 13:58:19.779 +05:45 [INF] Starting Hangfire Server using job storage: 'Hangfire.MemoryStorage.MemoryStorage'
2022-02-18 13:58:19.779 +05:45 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2022-02-18 13:58:20.011 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/api/AppUsers/ResetPassword application/json-patch+json 144
2022-02-18 13:58:20.011 +05:45 [INF] Request starting HTTP/1.1 DEBUG http://localhost:50254/  0
2022-02-18 13:58:20.012 +05:45 [INF] Request starting HTTP/1.1 GET http://localhost:44375/index.html  
2022-02-18 13:58:20.059 +05:45 [INF] Request finished in 47.5019ms 200 
2022-02-18 13:58:20.071 +05:45 [INF] Server desktop-03qevr8:11868:3f86e31c successfully announced in 252.04 ms
2022-02-18 13:58:20.086 +05:45 [INF] Server desktop-03qevr8:11868:3f86e31c is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2022-02-18 13:58:20.139 +05:45 [INF] CORS policy execution failed.
2022-02-18 13:58:20.140 +05:45 [INF] Request origin https://localhost:44375 does not have permission to access the resource.
2022-02-18 13:58:20.358 +05:45 [INF] Server desktop-03qevr8:11868:3f86e31c all the dispatchers started
2022-02-18 13:58:20.469 +05:45 [INF] Request finished in 463.3674ms 200 text/html;charset=utf-8
2022-02-18 13:58:20.880 +05:45 [INF] Request starting HTTP/1.1 GET http://localhost:44375/swagger/v1/swagger.json  
2022-02-18 13:58:21.118 +05:45 [INF] Executing endpoint 'PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool)'
2022-02-18 13:58:21.165 +05:45 [INF] Route matched with {action = "ResetPassword", controller = "AppUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] ResetPassword(PreSchool.Application.Services.AppUsers.Models.Commands.ResetPasswordCommand) on controller PreSchool.Controllers.AppUsersController (PreSchool).
2022-02-18 13:58:21.542 +05:45 [INF] Executing action method PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool) - Validation state: "Valid"
2022-02-18 13:58:21.550 +05:45 [INF] Entity Framework Core 3.1.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled 
2022-02-18 13:58:22.138 +05:45 [INF] Executed DbCommand (350ms) [Parameters=[@__resetPassword_Username_0='test.demo1@yopmail.com' (Size = 128), @__resetPassword_AppUserTypeId_1='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Active], [t].[AddressId], [t].[AdminComment], [t].[AppUserTypeId], [t].[CannotLoginUntilDate], [t].[CreatedBy], [t].[CreatedOn], [t].[DepartmentId], [t].[Email], [t].[FacebookUserId], [t].[FailedLoginAttempts], [t].[FirstName], [t].[GoogleUserId], [t].[IsDeleted], [t].[IsEmailVerified], [t].[IsPhoneVerified], [t].[IsSystemAccount], [t].[JobTitle], [t].[LastName], [t].[LimitedToStores], [t].[MiddleName], [t].[ModifiedBy], [t].[ModifiedOn], [t].[PhoneNumber], [t].[RegisteredInStoreId], [t].[RequireReLogin], [t].[SystemName], [t].[Username], [p].[Id], [p].[AppUserId], [p].[CreatedOn], [p].[EnablePasswordLifetime], [p].[IsCurrent], [p].[PasswordExpiredOn], [p].[PasswordHash], [p].[PasswordSalt], [p].[RequiredPasswordChange]
FROM (
    SELECT TOP(1) [a].[Id], [a].[Active], [a].[AddressId], [a].[AdminComment], [a].[AppUserTypeId], [a].[CannotLoginUntilDate], [a].[CreatedBy], [a].[CreatedOn], [a].[DepartmentId], [a].[Email], [a].[FacebookUserId], [a].[FailedLoginAttempts], [a].[FirstName], [a].[GoogleUserId], [a].[IsDeleted], [a].[IsEmailVerified], [a].[IsPhoneVerified], [a].[IsSystemAccount], [a].[JobTitle], [a].[LastName], [a].[LimitedToStores], [a].[MiddleName], [a].[ModifiedBy], [a].[ModifiedOn], [a].[PhoneNumber], [a].[RegisteredInStoreId], [a].[RequireReLogin], [a].[SystemName], [a].[Username]
    FROM [AppUser].[AppUser] AS [a]
    WHERE ([a].[IsDeleted] <> CAST(1 AS bit)) AND ((([a].[Username] = @__resetPassword_Username_0) OR ([a].[PhoneNumber] = @__resetPassword_Username_0)) AND ([a].[AppUserTypeId] = @__resetPassword_AppUserTypeId_1))
    ORDER BY [a].[Id] DESC
) AS [t]
LEFT JOIN [AppUser].[Password] AS [p] ON [t].[Id] = [p].[AppUserId]
ORDER BY [t].[Id] DESC, [p].[Id]
2022-02-18 13:58:22.434 +05:45 [INF] Executed action PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool) in 1262.0158ms
2022-02-18 13:58:22.435 +05:45 [INF] Executed endpoint 'PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool)'
2022-02-18 13:58:22.437 +05:45 [ERR] HTTP POST /api/AppUsers/ResetPassword responded 500 in 1320.1172 ms
PreSchool.Application.Exceptions.NotFoundException: Invalid username or code
   at PreSchool.Application.Services.AppUsers.AppUserService.ResetPassword(ResetPasswordCommand resetPassword) in D:\Krenova\Project\PreSchool\Src\PreSchool.Application\Services\AppUsers\AppUserService.cs:line 777
   at PreSchool.Controllers.AppUsersController.ResetPassword(ResetPasswordCommand resetPassword) in D:\Krenova\Project\PreSchool\Src\PreSchool\Controllers\AppUsersController.cs:line 128
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2022-02-18 13:58:22.720 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/profiler/results application/json 45
2022-02-18 13:58:22.725 +05:45 [INF] Request finished in 2719.0643ms 404 application/json
2022-02-18 13:58:22.823 +05:45 [INF] Request finished in 103.9108ms 200 application/json
2022-02-18 13:58:23.574 +05:45 [INF] Request finished in 2693.8106ms 200 application/json;charset=utf-8
2022-02-18 13:58:23.608 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/profiler/results application/json 45
2022-02-18 13:58:23.610 +05:45 [INF] Request finished in 1.5066ms 200 application/json
2022-02-18 13:58:23.616 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/profiler/results application/json 45
2022-02-18 13:58:23.627 +05:45 [INF] Request finished in 11.4816ms 200 application/json
2022-02-18 13:58:57.834 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/api/AppUsers/ResetPassword application/json-patch+json 144
2022-02-18 13:58:57.835 +05:45 [INF] CORS policy execution failed.
2022-02-18 13:58:57.835 +05:45 [INF] Request origin https://localhost:44375 does not have permission to access the resource.
2022-02-18 13:58:57.906 +05:45 [INF] Executing endpoint 'PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool)'
2022-02-18 13:58:57.907 +05:45 [INF] Route matched with {action = "ResetPassword", controller = "AppUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] ResetPassword(PreSchool.Application.Services.AppUsers.Models.Commands.ResetPasswordCommand) on controller PreSchool.Controllers.AppUsersController (PreSchool).
2022-02-18 13:58:57.961 +05:45 [INF] Executing action method PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool) - Validation state: "Valid"
2022-02-18 13:59:25.488 +05:45 [INF] Entity Framework Core 3.1.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled 
2022-02-18 13:59:25.793 +05:45 [INF] Executed DbCommand (273ms) [Parameters=[@__resetPassword_Username_0='test.demo1@yopmail.com' (Size = 128), @__resetPassword_AppUserTypeId_1='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Active], [t].[AddressId], [t].[AdminComment], [t].[AppUserTypeId], [t].[CannotLoginUntilDate], [t].[CreatedBy], [t].[CreatedOn], [t].[DepartmentId], [t].[Email], [t].[FacebookUserId], [t].[FailedLoginAttempts], [t].[FirstName], [t].[GoogleUserId], [t].[IsDeleted], [t].[IsEmailVerified], [t].[IsPhoneVerified], [t].[IsSystemAccount], [t].[JobTitle], [t].[LastName], [t].[LimitedToStores], [t].[MiddleName], [t].[ModifiedBy], [t].[ModifiedOn], [t].[PhoneNumber], [t].[RegisteredInStoreId], [t].[RequireReLogin], [t].[SystemName], [t].[Username], [p].[Id], [p].[AppUserId], [p].[CreatedOn], [p].[EnablePasswordLifetime], [p].[IsCurrent], [p].[PasswordExpiredOn], [p].[PasswordHash], [p].[PasswordSalt], [p].[RequiredPasswordChange]
FROM (
    SELECT TOP(1) [a].[Id], [a].[Active], [a].[AddressId], [a].[AdminComment], [a].[AppUserTypeId], [a].[CannotLoginUntilDate], [a].[CreatedBy], [a].[CreatedOn], [a].[DepartmentId], [a].[Email], [a].[FacebookUserId], [a].[FailedLoginAttempts], [a].[FirstName], [a].[GoogleUserId], [a].[IsDeleted], [a].[IsEmailVerified], [a].[IsPhoneVerified], [a].[IsSystemAccount], [a].[JobTitle], [a].[LastName], [a].[LimitedToStores], [a].[MiddleName], [a].[ModifiedBy], [a].[ModifiedOn], [a].[PhoneNumber], [a].[RegisteredInStoreId], [a].[RequireReLogin], [a].[SystemName], [a].[Username]
    FROM [AppUser].[AppUser] AS [a]
    WHERE ([a].[IsDeleted] <> CAST(1 AS bit)) AND ((([a].[Username] = @__resetPassword_Username_0) OR ([a].[PhoneNumber] = @__resetPassword_Username_0)) AND ([a].[AppUserTypeId] = @__resetPassword_AppUserTypeId_1))
    ORDER BY [a].[Id] DESC
) AS [t]
LEFT JOIN [AppUser].[Password] AS [p] ON [t].[Id] = [p].[AppUserId]
ORDER BY [t].[Id] DESC, [p].[Id]
2022-02-18 14:00:05.424 +05:45 [INF] Executed action PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool) in 67515.8773ms
2022-02-18 14:00:05.424 +05:45 [INF] Executed endpoint 'PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool)'
2022-02-18 14:00:05.424 +05:45 [ERR] HTTP POST /api/AppUsers/ResetPassword responded 500 in 67521.6208 ms
PreSchool.Application.Exceptions.NotFoundException: Invalid username or code
   at PreSchool.Application.Services.AppUsers.AppUserService.ResetPassword(ResetPasswordCommand resetPassword) in D:\Krenova\Project\PreSchool\Src\PreSchool.Application\Services\AppUsers\AppUserService.cs:line 777
   at PreSchool.Controllers.AppUsersController.ResetPassword(ResetPasswordCommand resetPassword) in D:\Krenova\Project\PreSchool\Src\PreSchool\Controllers\AppUsersController.cs:line 128
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2022-02-18 14:00:05.641 +05:45 [INF] Request finished in 67807.3503ms 404 application/json
2022-02-18 14:00:05.670 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/profiler/results application/json 45
2022-02-18 14:00:05.684 +05:45 [INF] Request finished in 13.9588ms 200 application/json
2022-02-18 14:01:29.105 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/api/AppUsers/ResetPassword application/json-patch+json 128
2022-02-18 14:01:29.106 +05:45 [INF] CORS policy execution failed.
2022-02-18 14:01:29.106 +05:45 [INF] Request origin https://localhost:44375 does not have permission to access the resource.
2022-02-18 14:01:29.113 +05:45 [INF] Executing endpoint 'PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool)'
2022-02-18 14:01:29.113 +05:45 [INF] Route matched with {action = "ResetPassword", controller = "AppUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] ResetPassword(PreSchool.Application.Services.AppUsers.Models.Commands.ResetPasswordCommand) on controller PreSchool.Controllers.AppUsersController (PreSchool).
2022-02-18 14:01:29.160 +05:45 [INF] Executing action method PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool) - Validation state: "Valid"
2022-02-18 14:01:32.416 +05:45 [INF] Entity Framework Core 3.1.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled 
2022-02-18 14:01:32.724 +05:45 [INF] Executed DbCommand (284ms) [Parameters=[@__resetPassword_Username_0='test99' (Size = 128), @__resetPassword_AppUserTypeId_1='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Active], [t].[AddressId], [t].[AdminComment], [t].[AppUserTypeId], [t].[CannotLoginUntilDate], [t].[CreatedBy], [t].[CreatedOn], [t].[DepartmentId], [t].[Email], [t].[FacebookUserId], [t].[FailedLoginAttempts], [t].[FirstName], [t].[GoogleUserId], [t].[IsDeleted], [t].[IsEmailVerified], [t].[IsPhoneVerified], [t].[IsSystemAccount], [t].[JobTitle], [t].[LastName], [t].[LimitedToStores], [t].[MiddleName], [t].[ModifiedBy], [t].[ModifiedOn], [t].[PhoneNumber], [t].[RegisteredInStoreId], [t].[RequireReLogin], [t].[SystemName], [t].[Username], [p].[Id], [p].[AppUserId], [p].[CreatedOn], [p].[EnablePasswordLifetime], [p].[IsCurrent], [p].[PasswordExpiredOn], [p].[PasswordHash], [p].[PasswordSalt], [p].[RequiredPasswordChange]
FROM (
    SELECT TOP(1) [a].[Id], [a].[Active], [a].[AddressId], [a].[AdminComment], [a].[AppUserTypeId], [a].[CannotLoginUntilDate], [a].[CreatedBy], [a].[CreatedOn], [a].[DepartmentId], [a].[Email], [a].[FacebookUserId], [a].[FailedLoginAttempts], [a].[FirstName], [a].[GoogleUserId], [a].[IsDeleted], [a].[IsEmailVerified], [a].[IsPhoneVerified], [a].[IsSystemAccount], [a].[JobTitle], [a].[LastName], [a].[LimitedToStores], [a].[MiddleName], [a].[ModifiedBy], [a].[ModifiedOn], [a].[PhoneNumber], [a].[RegisteredInStoreId], [a].[RequireReLogin], [a].[SystemName], [a].[Username]
    FROM [AppUser].[AppUser] AS [a]
    WHERE ([a].[IsDeleted] <> CAST(1 AS bit)) AND ((([a].[Username] = @__resetPassword_Username_0) OR ([a].[PhoneNumber] = @__resetPassword_Username_0)) AND ([a].[AppUserTypeId] = @__resetPassword_AppUserTypeId_1))
    ORDER BY [a].[Id] DESC
) AS [t]
LEFT JOIN [AppUser].[Password] AS [p] ON [t].[Id] = [p].[AppUserId]
ORDER BY [t].[Id] DESC, [p].[Id]
2022-02-18 14:01:36.251 +05:45 [INF] Executed DbCommand (274ms) [Parameters=[@__user_Id_0='9088', @__resetPassword_Code_1='14653881' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[AppUserId], [o].[Code], [o].[CodeExpireOn], [o].[CodeGeneratedOn], [o].[CodeUsedOn], [o].[IsCodeUsed]
FROM [AppUser].[OtpCode] AS [o]
WHERE (([o].[AppUserId] = @__user_Id_0) AND ([o].[IsCodeUsed] <> CAST(1 AS bit))) AND ([o].[Code] = @__resetPassword_Code_1)
ORDER BY [o].[Id] DESC
2022-02-18 14:01:36.435 +05:45 [INF] Executed action PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool) in 7321.9723ms
2022-02-18 14:01:36.436 +05:45 [INF] Executed endpoint 'PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool)'
2022-02-18 14:01:36.436 +05:45 [ERR] HTTP POST /api/AppUsers/ResetPassword responded 500 in 7323.3397 ms
PreSchool.Application.Exceptions.NotFoundException: Invalid username or code
   at PreSchool.Application.Services.AppUsers.AppUserService.ResetPassword(ResetPasswordCommand resetPassword) in D:\Krenova\Project\PreSchool\Src\PreSchool.Application\Services\AppUsers\AppUserService.cs:line 789
   at PreSchool.Controllers.AppUsersController.ResetPassword(ResetPasswordCommand resetPassword) in D:\Krenova\Project\PreSchool\Src\PreSchool\Controllers\AppUsersController.cs:line 128
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2022-02-18 14:01:36.631 +05:45 [INF] Request finished in 7525.5978ms 404 application/json
2022-02-18 14:01:36.639 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/profiler/results application/json 45
2022-02-18 14:01:36.644 +05:45 [INF] Request finished in 5.066ms 200 application/json
2022-02-18 14:09:57.072 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/api/AppUsers/ForgotPassword application/json-patch+json 82
2022-02-18 14:09:57.073 +05:45 [INF] CORS policy execution failed.
2022-02-18 14:09:57.107 +05:45 [INF] Request origin https://localhost:44375 does not have permission to access the resource.
2022-02-18 14:09:57.112 +05:45 [INF] Executing endpoint 'PreSchool.Controllers.AppUsersController.ForgotPassword (PreSchool)'
2022-02-18 14:09:57.124 +05:45 [INF] Route matched with {action = "ForgotPassword", controller = "AppUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] ForgotPassword(PreSchool.Application.Services.AppUsers.Models.Commands.ForgotPasswordCommand) on controller PreSchool.Controllers.AppUsersController (PreSchool).
2022-02-18 14:09:57.175 +05:45 [INF] Executing action method PreSchool.Controllers.AppUsersController.ForgotPassword (PreSchool) - Validation state: "Valid"
2022-02-18 14:10:00.634 +05:45 [INF] Entity Framework Core 3.1.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled 
2022-02-18 14:10:02.076 +05:45 [INF] Executed DbCommand (278ms) [Parameters=[@__forgotPassword_Username_0='test.demo1@yopmail.com' (Size = 128)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Active], [a].[AddressId], [a].[AdminComment], [a].[AppUserTypeId], [a].[CannotLoginUntilDate], [a].[CreatedBy], [a].[CreatedOn], [a].[DepartmentId], [a].[Email], [a].[FacebookUserId], [a].[FailedLoginAttempts], [a].[FirstName], [a].[GoogleUserId], [a].[IsDeleted], [a].[IsEmailVerified], [a].[IsPhoneVerified], [a].[IsSystemAccount], [a].[JobTitle], [a].[LastName], [a].[LimitedToStores], [a].[MiddleName], [a].[ModifiedBy], [a].[ModifiedOn], [a].[PhoneNumber], [a].[RegisteredInStoreId], [a].[RequireReLogin], [a].[SystemName], [a].[Username]
FROM [AppUser].[AppUser] AS [a]
WHERE ([a].[IsDeleted] <> CAST(1 AS bit)) AND (([a].[Username] = @__forgotPassword_Username_0) OR ([a].[PhoneNumber] = @__forgotPassword_Username_0))
2022-02-18 14:10:02.906 +05:45 [INF] Executed DbCommand (291ms) [Parameters=[@p0='9085', @p1='94470480' (Size = 4000), @p2='2022-02-19T00:10:02', @p3='2022-02-18T14:10:02', @p4=NULL (DbType = DateTime2), @p5='False'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AppUser].[OtpCode] ([AppUserId], [Code], [CodeExpireOn], [CodeGeneratedOn], [CodeUsedOn], [IsCodeUsed])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [AppUser].[OtpCode]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-02-18 14:10:12.128 +05:45 [INF] Entity Framework Core 3.1.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled 
2022-02-18 14:10:12.436 +05:45 [INF] Executed action method PreSchool.Controllers.AppUsersController.ForgotPassword (PreSchool), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 15254.9556ms.
2022-02-18 14:10:12.442 +05:45 [INF] Executing ObjectResult, writing value of type 'System.Boolean'.
2022-02-18 14:10:12.458 +05:45 [INF] Executed action PreSchool.Controllers.AppUsersController.ForgotPassword (PreSchool) in 15334.642ms
2022-02-18 14:10:12.459 +05:45 [INF] Executed endpoint 'PreSchool.Controllers.AppUsersController.ForgotPassword (PreSchool)'
2022-02-18 14:10:12.459 +05:45 [INF] HTTP POST /api/AppUsers/ForgotPassword responded 200 in 15347.2829 ms
2022-02-18 14:10:12.463 +05:45 [INF] Request finished in 15391.3201ms 200 application/json; charset=utf-8
2022-02-18 14:10:12.467 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/profiler/results application/json 45
2022-02-18 14:10:12.468 +05:45 [INF] Request finished in 1.3406ms 200 application/json
2022-02-18 14:10:12.708 +05:45 [INF] Executed DbCommand (282ms) [Parameters=[@p0='<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body style="margin: 0;">
    <div class="main-wrapper"
         style="background: #f3f3f3; overflow: hidden; padding: 44px 24px 64px; font-family: 'Lato', 'Open Sans', sans-serif; font-size: 14px;">
        <div class="content-wrapper"
             style="background-blend-mode: 14; background: #fefefe; overflow: hidden; font-family: 'Lato', 'Open Sans', sans-serif; font-size: 14px; border-radius: 20px;">
            <div class="header-img"
                 style="display: flex; flex-direction: row; align-items: center; justify-content: space-between; flex-wrap: wrap; margin-bottom: 24px; padding-top: 24px;">
          
                <div class="right-img" style="margin-bottom: 14px; padding-left: 24px; padding-right: 34px;margin-left: auto;">
                    <div class="company-logo">
                        <img src="https://localhost:44375/Images/hattiya_logo_big.png" alt="" style="height: 40px;" />
                    </div>
                </div>
            </div>

            

<div class="content" style="padding: 0 24px 24px;">
    <div class="welcome"
         style="font-size: 20px; font-weight: 700; margin-bottom: 24px; font-family: 'Open Sans', 'Lato', sans-serif;">
        Recover your Hattiya account.
    </div>
    <div class="greeting" style="margin-bottom: 14px;">
        <span style="margin-right: 2px;">Dear </span>
        <span style="font-weight: 700;">test.demo1@yopmail.com</span>,
    </div>

    <div style="margin-bottom: 14px;">
        Please use 94470480, for accessing your account. We would request you to change your password immediately after login for secure browsing.
    </div>
    <div style="margin-bottom: 14px;">
        If you havenâ€™t requested for reset or for password change, we request you to immediately inform our support department at support@hattiya.com for further assistance.
    </div>
</div>
            <div class="email-footer" style="margin-top: 14px; padding: 0 24px 24px;">
                <div class="regard-wrap" style="margin-bottom: 24px;">
                    <div class="regard" style="margin-bottom: 4px;">
                        Regards,
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        Hattiya Pvt. Ltd
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        New Baneshwor, Kathmandu
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        <a href="support@hattiya.com" style="text-decoration: underline;color: #2196F3;">support@hattiya.com</a>
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        <a href="www.hattiya.com" style="text-decoration: underline;color: #2196F3;">www.hattiya.com</a>
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        <img src="https://localhost:44375/Images/hattiya_logo_big.png" alt="" style="height: 40px;" />

                    </div>
                </div>

            </div>
        </div>
                                                                                </div>
                                                                            </body>

</html>
' (Size = 4000), @p1='True', @p2='2022-02-18T14:10:12', @p3=NULL (DbType = Int32), @p4='Recover your Hattiya account.' (Size = 4000), @p5='test.demo1@yopmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Email].[History] ([Body], [SendByAppUser], [SendDateTime], [SenderId], [Subject], [ToEmailId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Email].[History]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-02-18 14:11:04.130 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/api/AppUsers/ResetPassword application/json-patch+json 144
2022-02-18 14:11:04.131 +05:45 [INF] CORS policy execution failed.
2022-02-18 14:11:04.132 +05:45 [INF] Request origin https://localhost:44375 does not have permission to access the resource.
2022-02-18 14:11:04.133 +05:45 [INF] Executing endpoint 'PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool)'
2022-02-18 14:11:04.134 +05:45 [INF] Route matched with {action = "ResetPassword", controller = "AppUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] ResetPassword(PreSchool.Application.Services.AppUsers.Models.Commands.ResetPasswordCommand) on controller PreSchool.Controllers.AppUsersController (PreSchool).
2022-02-18 14:11:04.181 +05:45 [INF] Executing action method PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool) - Validation state: "Valid"
2022-02-18 14:11:08.976 +05:45 [INF] Entity Framework Core 3.1.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled 
2022-02-18 14:11:09.280 +05:45 [INF] Executed DbCommand (280ms) [Parameters=[@__resetPassword_Username_0='test.demo1@yopmail.com' (Size = 128), @__resetPassword_AppUserTypeId_1='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Active], [t].[AddressId], [t].[AdminComment], [t].[AppUserTypeId], [t].[CannotLoginUntilDate], [t].[CreatedBy], [t].[CreatedOn], [t].[DepartmentId], [t].[Email], [t].[FacebookUserId], [t].[FailedLoginAttempts], [t].[FirstName], [t].[GoogleUserId], [t].[IsDeleted], [t].[IsEmailVerified], [t].[IsPhoneVerified], [t].[IsSystemAccount], [t].[JobTitle], [t].[LastName], [t].[LimitedToStores], [t].[MiddleName], [t].[ModifiedBy], [t].[ModifiedOn], [t].[PhoneNumber], [t].[RegisteredInStoreId], [t].[RequireReLogin], [t].[SystemName], [t].[Username], [p].[Id], [p].[AppUserId], [p].[CreatedOn], [p].[EnablePasswordLifetime], [p].[IsCurrent], [p].[PasswordExpiredOn], [p].[PasswordHash], [p].[PasswordSalt], [p].[RequiredPasswordChange]
FROM (
    SELECT TOP(1) [a].[Id], [a].[Active], [a].[AddressId], [a].[AdminComment], [a].[AppUserTypeId], [a].[CannotLoginUntilDate], [a].[CreatedBy], [a].[CreatedOn], [a].[DepartmentId], [a].[Email], [a].[FacebookUserId], [a].[FailedLoginAttempts], [a].[FirstName], [a].[GoogleUserId], [a].[IsDeleted], [a].[IsEmailVerified], [a].[IsPhoneVerified], [a].[IsSystemAccount], [a].[JobTitle], [a].[LastName], [a].[LimitedToStores], [a].[MiddleName], [a].[ModifiedBy], [a].[ModifiedOn], [a].[PhoneNumber], [a].[RegisteredInStoreId], [a].[RequireReLogin], [a].[SystemName], [a].[Username]
    FROM [AppUser].[AppUser] AS [a]
    WHERE ([a].[IsDeleted] <> CAST(1 AS bit)) AND ((([a].[Username] = @__resetPassword_Username_0) OR ([a].[PhoneNumber] = @__resetPassword_Username_0)) AND ([a].[AppUserTypeId] = @__resetPassword_AppUserTypeId_1))
    ORDER BY [a].[Id] DESC
) AS [t]
LEFT JOIN [AppUser].[Password] AS [p] ON [t].[Id] = [p].[AppUserId]
ORDER BY [t].[Id] DESC, [p].[Id]
2022-02-18 14:11:18.161 +05:45 [INF] Executed action PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool) in 14026.7383ms
2022-02-18 14:11:18.161 +05:45 [INF] Executed endpoint 'PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool)'
2022-02-18 14:11:18.161 +05:45 [ERR] HTTP POST /api/AppUsers/ResetPassword responded 500 in 14028.2819 ms
PreSchool.Application.Exceptions.NotFoundException: Invalid username or code
   at PreSchool.Application.Services.AppUsers.AppUserService.ResetPassword(ResetPasswordCommand resetPassword) in D:\Krenova\Project\PreSchool\Src\PreSchool.Application\Services\AppUsers\AppUserService.cs:line 777
   at PreSchool.Controllers.AppUsersController.ResetPassword(ResetPasswordCommand resetPassword) in D:\Krenova\Project\PreSchool\Src\PreSchool\Controllers\AppUsersController.cs:line 128
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2022-02-18 14:11:18.357 +05:45 [INF] Request finished in 14227.2197ms 404 application/json
2022-02-18 14:11:18.363 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/profiler/results application/json 45
2022-02-18 14:11:18.365 +05:45 [INF] Request finished in 1.9161ms 200 application/json
2022-02-18 14:11:28.763 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/api/AppUsers/ResetPassword application/json-patch+json 144
2022-02-18 14:11:28.764 +05:45 [INF] CORS policy execution failed.
2022-02-18 14:11:28.764 +05:45 [INF] Request origin https://localhost:44375 does not have permission to access the resource.
2022-02-18 14:11:28.765 +05:45 [INF] Executing endpoint 'PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool)'
2022-02-18 14:11:28.766 +05:45 [INF] Route matched with {action = "ResetPassword", controller = "AppUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] ResetPassword(PreSchool.Application.Services.AppUsers.Models.Commands.ResetPasswordCommand) on controller PreSchool.Controllers.AppUsersController (PreSchool).
2022-02-18 14:11:28.813 +05:45 [INF] Executing action method PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool) - Validation state: "Valid"
2022-02-18 14:11:31.384 +05:45 [INF] Entity Framework Core 3.1.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled 
2022-02-18 14:11:31.686 +05:45 [INF] Executed DbCommand (273ms) [Parameters=[@__resetPassword_Username_0='test.demo1@yopmail.com' (Size = 128), @__resetPassword_AppUserTypeId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Active], [t].[AddressId], [t].[AdminComment], [t].[AppUserTypeId], [t].[CannotLoginUntilDate], [t].[CreatedBy], [t].[CreatedOn], [t].[DepartmentId], [t].[Email], [t].[FacebookUserId], [t].[FailedLoginAttempts], [t].[FirstName], [t].[GoogleUserId], [t].[IsDeleted], [t].[IsEmailVerified], [t].[IsPhoneVerified], [t].[IsSystemAccount], [t].[JobTitle], [t].[LastName], [t].[LimitedToStores], [t].[MiddleName], [t].[ModifiedBy], [t].[ModifiedOn], [t].[PhoneNumber], [t].[RegisteredInStoreId], [t].[RequireReLogin], [t].[SystemName], [t].[Username], [p].[Id], [p].[AppUserId], [p].[CreatedOn], [p].[EnablePasswordLifetime], [p].[IsCurrent], [p].[PasswordExpiredOn], [p].[PasswordHash], [p].[PasswordSalt], [p].[RequiredPasswordChange]
FROM (
    SELECT TOP(1) [a].[Id], [a].[Active], [a].[AddressId], [a].[AdminComment], [a].[AppUserTypeId], [a].[CannotLoginUntilDate], [a].[CreatedBy], [a].[CreatedOn], [a].[DepartmentId], [a].[Email], [a].[FacebookUserId], [a].[FailedLoginAttempts], [a].[FirstName], [a].[GoogleUserId], [a].[IsDeleted], [a].[IsEmailVerified], [a].[IsPhoneVerified], [a].[IsSystemAccount], [a].[JobTitle], [a].[LastName], [a].[LimitedToStores], [a].[MiddleName], [a].[ModifiedBy], [a].[ModifiedOn], [a].[PhoneNumber], [a].[RegisteredInStoreId], [a].[RequireReLogin], [a].[SystemName], [a].[Username]
    FROM [AppUser].[AppUser] AS [a]
    WHERE ([a].[IsDeleted] <> CAST(1 AS bit)) AND ((([a].[Username] = @__resetPassword_Username_0) OR ([a].[PhoneNumber] = @__resetPassword_Username_0)) AND ([a].[AppUserTypeId] = @__resetPassword_AppUserTypeId_1))
    ORDER BY [a].[Id] DESC
) AS [t]
LEFT JOIN [AppUser].[Password] AS [p] ON [t].[Id] = [p].[AppUserId]
ORDER BY [t].[Id] DESC, [p].[Id]
2022-02-18 14:11:34.327 +05:45 [INF] Executed DbCommand (274ms) [Parameters=[@__user_Id_0='9087', @__resetPassword_Code_1='69546098' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[AppUserId], [o].[Code], [o].[CodeExpireOn], [o].[CodeGeneratedOn], [o].[CodeUsedOn], [o].[IsCodeUsed]
FROM [AppUser].[OtpCode] AS [o]
WHERE (([o].[AppUserId] = @__user_Id_0) AND ([o].[IsCodeUsed] <> CAST(1 AS bit))) AND ([o].[Code] = @__resetPassword_Code_1)
ORDER BY [o].[Id] DESC
2022-02-18 14:11:34.472 +05:45 [INF] Executed action PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool) in 5705.6544ms
2022-02-18 14:11:34.472 +05:45 [INF] Executed endpoint 'PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool)'
2022-02-18 14:11:34.472 +05:45 [ERR] HTTP POST /api/AppUsers/ResetPassword responded 500 in 5707.0686 ms
PreSchool.Application.Exceptions.NotFoundException: Invalid username or code
   at PreSchool.Application.Services.AppUsers.AppUserService.ResetPassword(ResetPasswordCommand resetPassword) in D:\Krenova\Project\PreSchool\Src\PreSchool.Application\Services\AppUsers\AppUserService.cs:line 789
   at PreSchool.Controllers.AppUsersController.ResetPassword(ResetPasswordCommand resetPassword) in D:\Krenova\Project\PreSchool\Src\PreSchool\Controllers\AppUsersController.cs:line 128
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2022-02-18 14:11:34.643 +05:45 [INF] Request finished in 5880.3765ms 404 application/json
2022-02-18 14:11:34.654 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/profiler/results application/json 45
2022-02-18 14:11:34.656 +05:45 [INF] Request finished in 2.4056ms 200 application/json
2022-02-18 14:12:29.491 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/api/AppUsers/ResetPassword application/json-patch+json 144
2022-02-18 14:12:29.492 +05:45 [INF] CORS policy execution failed.
2022-02-18 14:12:29.492 +05:45 [INF] Request origin https://localhost:44375 does not have permission to access the resource.
2022-02-18 14:12:29.493 +05:45 [INF] Executing endpoint 'PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool)'
2022-02-18 14:12:29.494 +05:45 [INF] Route matched with {action = "ResetPassword", controller = "AppUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] ResetPassword(PreSchool.Application.Services.AppUsers.Models.Commands.ResetPasswordCommand) on controller PreSchool.Controllers.AppUsersController (PreSchool).
2022-02-18 14:12:29.557 +05:45 [INF] Executing action method PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool) - Validation state: "Valid"
2022-02-18 14:12:34.959 +05:45 [INF] Entity Framework Core 3.1.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled 
2022-02-18 14:12:35.266 +05:45 [INF] Executed DbCommand (277ms) [Parameters=[@__resetPassword_Username_0='test.demo1@yopmail.com' (Size = 128), @__resetPassword_AppUserTypeId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Active], [t].[AddressId], [t].[AdminComment], [t].[AppUserTypeId], [t].[CannotLoginUntilDate], [t].[CreatedBy], [t].[CreatedOn], [t].[DepartmentId], [t].[Email], [t].[FacebookUserId], [t].[FailedLoginAttempts], [t].[FirstName], [t].[GoogleUserId], [t].[IsDeleted], [t].[IsEmailVerified], [t].[IsPhoneVerified], [t].[IsSystemAccount], [t].[JobTitle], [t].[LastName], [t].[LimitedToStores], [t].[MiddleName], [t].[ModifiedBy], [t].[ModifiedOn], [t].[PhoneNumber], [t].[RegisteredInStoreId], [t].[RequireReLogin], [t].[SystemName], [t].[Username], [p].[Id], [p].[AppUserId], [p].[CreatedOn], [p].[EnablePasswordLifetime], [p].[IsCurrent], [p].[PasswordExpiredOn], [p].[PasswordHash], [p].[PasswordSalt], [p].[RequiredPasswordChange]
FROM (
    SELECT TOP(1) [a].[Id], [a].[Active], [a].[AddressId], [a].[AdminComment], [a].[AppUserTypeId], [a].[CannotLoginUntilDate], [a].[CreatedBy], [a].[CreatedOn], [a].[DepartmentId], [a].[Email], [a].[FacebookUserId], [a].[FailedLoginAttempts], [a].[FirstName], [a].[GoogleUserId], [a].[IsDeleted], [a].[IsEmailVerified], [a].[IsPhoneVerified], [a].[IsSystemAccount], [a].[JobTitle], [a].[LastName], [a].[LimitedToStores], [a].[MiddleName], [a].[ModifiedBy], [a].[ModifiedOn], [a].[PhoneNumber], [a].[RegisteredInStoreId], [a].[RequireReLogin], [a].[SystemName], [a].[Username]
    FROM [AppUser].[AppUser] AS [a]
    WHERE ([a].[IsDeleted] <> CAST(1 AS bit)) AND ((([a].[Username] = @__resetPassword_Username_0) OR ([a].[PhoneNumber] = @__resetPassword_Username_0)) AND ([a].[AppUserTypeId] = @__resetPassword_AppUserTypeId_1))
    ORDER BY [a].[Id] DESC
) AS [t]
LEFT JOIN [AppUser].[Password] AS [p] ON [t].[Id] = [p].[AppUserId]
ORDER BY [t].[Id] DESC, [p].[Id]
2022-02-18 14:12:37.441 +05:45 [INF] Executed DbCommand (273ms) [Parameters=[@__user_Id_0='9087', @__resetPassword_Code_1='94470480' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[AppUserId], [o].[Code], [o].[CodeExpireOn], [o].[CodeGeneratedOn], [o].[CodeUsedOn], [o].[IsCodeUsed]
FROM [AppUser].[OtpCode] AS [o]
WHERE (([o].[AppUserId] = @__user_Id_0) AND ([o].[IsCodeUsed] <> CAST(1 AS bit))) AND ([o].[Code] = @__resetPassword_Code_1)
ORDER BY [o].[Id] DESC
2022-02-18 14:12:38.238 +05:45 [INF] Executed action PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool) in 8744.4449ms
2022-02-18 14:12:38.239 +05:45 [INF] Executed endpoint 'PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool)'
2022-02-18 14:12:38.239 +05:45 [ERR] HTTP POST /api/AppUsers/ResetPassword responded 500 in 8746.2557 ms
PreSchool.Application.Exceptions.NotFoundException: Invalid username or code
   at PreSchool.Application.Services.AppUsers.AppUserService.ResetPassword(ResetPasswordCommand resetPassword) in D:\Krenova\Project\PreSchool\Src\PreSchool.Application\Services\AppUsers\AppUserService.cs:line 789
   at PreSchool.Controllers.AppUsersController.ResetPassword(ResetPasswordCommand resetPassword) in D:\Krenova\Project\PreSchool\Src\PreSchool\Controllers\AppUsersController.cs:line 128
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2022-02-18 14:12:38.463 +05:45 [INF] Request finished in 8971.9023ms 404 application/json
2022-02-18 14:12:38.471 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/profiler/results application/json 45
2022-02-18 14:12:38.472 +05:45 [INF] Request finished in 1.7193ms 200 application/json
2022-02-18 14:13:51.772 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/api/AppUsers/ForgotPassword application/json-patch+json 82
2022-02-18 14:13:51.773 +05:45 [INF] CORS policy execution failed.
2022-02-18 14:13:51.773 +05:45 [INF] Request origin https://localhost:44375 does not have permission to access the resource.
2022-02-18 14:13:51.774 +05:45 [INF] Executing endpoint 'PreSchool.Controllers.AppUsersController.ForgotPassword (PreSchool)'
2022-02-18 14:13:51.774 +05:45 [INF] Route matched with {action = "ForgotPassword", controller = "AppUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] ForgotPassword(PreSchool.Application.Services.AppUsers.Models.Commands.ForgotPasswordCommand) on controller PreSchool.Controllers.AppUsersController (PreSchool).
2022-02-18 14:13:51.878 +05:45 [INF] Executing action method PreSchool.Controllers.AppUsersController.ForgotPassword (PreSchool) - Validation state: "Valid"
2022-02-18 14:13:53.876 +05:45 [INF] Entity Framework Core 3.1.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled 
2022-02-18 14:13:54.157 +05:45 [INF] Executed DbCommand (278ms) [Parameters=[@__forgotPassword_Username_0='dumarumanish@gmail.com' (Size = 128)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Active], [a].[AddressId], [a].[AdminComment], [a].[AppUserTypeId], [a].[CannotLoginUntilDate], [a].[CreatedBy], [a].[CreatedOn], [a].[DepartmentId], [a].[Email], [a].[FacebookUserId], [a].[FailedLoginAttempts], [a].[FirstName], [a].[GoogleUserId], [a].[IsDeleted], [a].[IsEmailVerified], [a].[IsPhoneVerified], [a].[IsSystemAccount], [a].[JobTitle], [a].[LastName], [a].[LimitedToStores], [a].[MiddleName], [a].[ModifiedBy], [a].[ModifiedOn], [a].[PhoneNumber], [a].[RegisteredInStoreId], [a].[RequireReLogin], [a].[SystemName], [a].[Username]
FROM [AppUser].[AppUser] AS [a]
WHERE ([a].[IsDeleted] <> CAST(1 AS bit)) AND (([a].[Username] = @__forgotPassword_Username_0) OR ([a].[PhoneNumber] = @__forgotPassword_Username_0))
2022-02-18 14:13:54.721 +05:45 [INF] Executed DbCommand (281ms) [Parameters=[@p0='8063', @p1='11408171' (Size = 4000), @p2='2022-02-19T00:13:54', @p3='2022-02-18T14:13:54', @p4=NULL (DbType = DateTime2), @p5='False'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AppUser].[OtpCode] ([AppUserId], [Code], [CodeExpireOn], [CodeGeneratedOn], [CodeUsedOn], [IsCodeUsed])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [AppUser].[OtpCode]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-02-18 14:13:57.311 +05:45 [INF] Entity Framework Core 3.1.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled 
2022-02-18 14:13:57.590 +05:45 [INF] Executed action method PreSchool.Controllers.AppUsersController.ForgotPassword (PreSchool), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 5711.9686ms.
2022-02-18 14:13:57.591 +05:45 [INF] Executing ObjectResult, writing value of type 'System.Boolean'.
2022-02-18 14:13:57.592 +05:45 [INF] Executed action PreSchool.Controllers.AppUsersController.ForgotPassword (PreSchool) in 5817.2277ms
2022-02-18 14:13:57.592 +05:45 [INF] Executed endpoint 'PreSchool.Controllers.AppUsersController.ForgotPassword (PreSchool)'
2022-02-18 14:13:57.592 +05:45 [INF] HTTP POST /api/AppUsers/ForgotPassword responded 200 in 5818.2312 ms
2022-02-18 14:13:57.593 +05:45 [INF] Request finished in 5820.6426ms 200 application/json; charset=utf-8
2022-02-18 14:13:57.600 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/profiler/results application/json 45
2022-02-18 14:13:57.602 +05:45 [INF] Request finished in 1.7853ms 200 application/json
2022-02-18 14:13:57.860 +05:45 [INF] Executed DbCommand (274ms) [Parameters=[@p0='<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body style="margin: 0;">
    <div class="main-wrapper"
         style="background: #f3f3f3; overflow: hidden; padding: 44px 24px 64px; font-family: 'Lato', 'Open Sans', sans-serif; font-size: 14px;">
        <div class="content-wrapper"
             style="background-blend-mode: 14; background: #fefefe; overflow: hidden; font-family: 'Lato', 'Open Sans', sans-serif; font-size: 14px; border-radius: 20px;">
            <div class="header-img"
                 style="display: flex; flex-direction: row; align-items: center; justify-content: space-between; flex-wrap: wrap; margin-bottom: 24px; padding-top: 24px;">
          
                <div class="right-img" style="margin-bottom: 14px; padding-left: 24px; padding-right: 34px;margin-left: auto;">
                    <div class="company-logo">
                        <img src="https://localhost:44375/Images/hattiya_logo_big.png" alt="" style="height: 40px;" />
                    </div>
                </div>
            </div>

            

<div class="content" style="padding: 0 24px 24px;">
    <div class="welcome"
         style="font-size: 20px; font-weight: 700; margin-bottom: 24px; font-family: 'Open Sans', 'Lato', sans-serif;">
        Recover your Hattiya account.
    </div>
    <div class="greeting" style="margin-bottom: 14px;">
        <span style="margin-right: 2px;">Dear </span>
        <span style="font-weight: 700;">dumarumanish@gmail.com</span>,
    </div>

    <div style="margin-bottom: 14px;">
        Please use 11408171, for accessing your account. We would request you to change your password immediately after login for secure browsing.
    </div>
    <div style="margin-bottom: 14px;">
        If you havenâ€™t requested for reset or for password change, we request you to immediately inform our support department at support@hattiya.com for further assistance.
    </div>
</div>
            <div class="email-footer" style="margin-top: 14px; padding: 0 24px 24px;">
                <div class="regard-wrap" style="margin-bottom: 24px;">
                    <div class="regard" style="margin-bottom: 4px;">
                        Regards,
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        Hattiya Pvt. Ltd
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        New Baneshwor, Kathmandu
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        <a href="support@hattiya.com" style="text-decoration: underline;color: #2196F3;">support@hattiya.com</a>
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        <a href="www.hattiya.com" style="text-decoration: underline;color: #2196F3;">www.hattiya.com</a>
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        <img src="https://localhost:44375/Images/hattiya_logo_big.png" alt="" style="height: 40px;" />

                    </div>
                </div>

            </div>
        </div>
                                                                                </div>
                                                                            </body>

</html>
' (Size = 4000), @p1='True', @p2='2022-02-18T14:13:57', @p3=NULL (DbType = Int32), @p4='Recover your Hattiya account.' (Size = 4000), @p5='dumarumanish@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Email].[History] ([Body], [SendByAppUser], [SendDateTime], [SenderId], [Subject], [ToEmailId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Email].[History]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-02-18 14:17:12.224 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/api/AppUsers/ResetPassword application/json-patch+json 144
2022-02-18 14:17:12.225 +05:45 [INF] CORS policy execution failed.
2022-02-18 14:17:12.225 +05:45 [INF] Request origin https://localhost:44375 does not have permission to access the resource.
2022-02-18 14:17:12.226 +05:45 [INF] Executing endpoint 'PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool)'
2022-02-18 14:17:12.227 +05:45 [INF] Route matched with {action = "ResetPassword", controller = "AppUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] ResetPassword(PreSchool.Application.Services.AppUsers.Models.Commands.ResetPasswordCommand) on controller PreSchool.Controllers.AppUsersController (PreSchool).
2022-02-18 14:17:12.271 +05:45 [INF] Executing action method PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool) - Validation state: "Valid"
2022-02-18 14:17:15.474 +05:45 [INF] Entity Framework Core 3.1.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled 
2022-02-18 14:17:15.754 +05:45 [INF] Executed DbCommand (276ms) [Parameters=[@__resetPassword_Username_0='dumarumanish@gmail.com' (Size = 128), @__resetPassword_AppUserTypeId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Active], [t].[AddressId], [t].[AdminComment], [t].[AppUserTypeId], [t].[CannotLoginUntilDate], [t].[CreatedBy], [t].[CreatedOn], [t].[DepartmentId], [t].[Email], [t].[FacebookUserId], [t].[FailedLoginAttempts], [t].[FirstName], [t].[GoogleUserId], [t].[IsDeleted], [t].[IsEmailVerified], [t].[IsPhoneVerified], [t].[IsSystemAccount], [t].[JobTitle], [t].[LastName], [t].[LimitedToStores], [t].[MiddleName], [t].[ModifiedBy], [t].[ModifiedOn], [t].[PhoneNumber], [t].[RegisteredInStoreId], [t].[RequireReLogin], [t].[SystemName], [t].[Username], [p].[Id], [p].[AppUserId], [p].[CreatedOn], [p].[EnablePasswordLifetime], [p].[IsCurrent], [p].[PasswordExpiredOn], [p].[PasswordHash], [p].[PasswordSalt], [p].[RequiredPasswordChange]
FROM (
    SELECT TOP(1) [a].[Id], [a].[Active], [a].[AddressId], [a].[AdminComment], [a].[AppUserTypeId], [a].[CannotLoginUntilDate], [a].[CreatedBy], [a].[CreatedOn], [a].[DepartmentId], [a].[Email], [a].[FacebookUserId], [a].[FailedLoginAttempts], [a].[FirstName], [a].[GoogleUserId], [a].[IsDeleted], [a].[IsEmailVerified], [a].[IsPhoneVerified], [a].[IsSystemAccount], [a].[JobTitle], [a].[LastName], [a].[LimitedToStores], [a].[MiddleName], [a].[ModifiedBy], [a].[ModifiedOn], [a].[PhoneNumber], [a].[RegisteredInStoreId], [a].[RequireReLogin], [a].[SystemName], [a].[Username]
    FROM [AppUser].[AppUser] AS [a]
    WHERE ([a].[IsDeleted] <> CAST(1 AS bit)) AND ((([a].[Username] = @__resetPassword_Username_0) OR ([a].[PhoneNumber] = @__resetPassword_Username_0)) AND ([a].[AppUserTypeId] = @__resetPassword_AppUserTypeId_1))
    ORDER BY [a].[Id] DESC
) AS [t]
LEFT JOIN [AppUser].[Password] AS [p] ON [t].[Id] = [p].[AppUserId]
ORDER BY [t].[Id] DESC, [p].[Id]
2022-02-18 14:17:16.035 +05:45 [INF] Executed DbCommand (276ms) [Parameters=[@__user_Id_0='8063', @__resetPassword_Code_1='82032702' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[AppUserId], [o].[Code], [o].[CodeExpireOn], [o].[CodeGeneratedOn], [o].[CodeUsedOn], [o].[IsCodeUsed]
FROM [AppUser].[OtpCode] AS [o]
WHERE (([o].[AppUserId] = @__user_Id_0) AND ([o].[IsCodeUsed] <> CAST(1 AS bit))) AND ([o].[Code] = @__resetPassword_Code_1)
ORDER BY [o].[Id] DESC
2022-02-18 14:17:16.215 +05:45 [INF] Executed action PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool) in 3988.2935ms
2022-02-18 14:17:16.216 +05:45 [INF] Executed endpoint 'PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool)'
2022-02-18 14:17:16.216 +05:45 [ERR] HTTP POST /api/AppUsers/ResetPassword responded 500 in 3989.8004 ms
PreSchool.Application.Exceptions.NotFoundException: Invalid username or code
   at PreSchool.Application.Services.AppUsers.AppUserService.ResetPassword(ResetPasswordCommand resetPassword) in D:\Krenova\Project\PreSchool\Src\PreSchool.Application\Services\AppUsers\AppUserService.cs:line 789
   at PreSchool.Controllers.AppUsersController.ResetPassword(ResetPasswordCommand resetPassword) in D:\Krenova\Project\PreSchool\Src\PreSchool\Controllers\AppUsersController.cs:line 128
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2022-02-18 14:17:16.397 +05:45 [INF] Request finished in 4172.6339ms 404 application/json
2022-02-18 14:17:16.408 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/profiler/results application/json 45
2022-02-18 14:17:16.410 +05:45 [INF] Request finished in 1.6485ms 200 application/json
2022-02-18 14:17:35.386 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/api/AppUsers/ForgotPassword application/json-patch+json 82
2022-02-18 14:17:35.387 +05:45 [INF] CORS policy execution failed.
2022-02-18 14:17:35.387 +05:45 [INF] Request origin https://localhost:44375 does not have permission to access the resource.
2022-02-18 14:17:35.388 +05:45 [INF] Executing endpoint 'PreSchool.Controllers.AppUsersController.ForgotPassword (PreSchool)'
2022-02-18 14:17:35.388 +05:45 [INF] Route matched with {action = "ForgotPassword", controller = "AppUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] ForgotPassword(PreSchool.Application.Services.AppUsers.Models.Commands.ForgotPasswordCommand) on controller PreSchool.Controllers.AppUsersController (PreSchool).
2022-02-18 14:17:35.442 +05:45 [INF] Executing action method PreSchool.Controllers.AppUsersController.ForgotPassword (PreSchool) - Validation state: "Valid"
2022-02-18 14:17:38.548 +05:45 [INF] Entity Framework Core 3.1.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled 
2022-02-18 14:17:38.824 +05:45 [INF] Executed DbCommand (273ms) [Parameters=[@__forgotPassword_Username_0='dumarumanish@gmail.com' (Size = 128)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Active], [a].[AddressId], [a].[AdminComment], [a].[AppUserTypeId], [a].[CannotLoginUntilDate], [a].[CreatedBy], [a].[CreatedOn], [a].[DepartmentId], [a].[Email], [a].[FacebookUserId], [a].[FailedLoginAttempts], [a].[FirstName], [a].[GoogleUserId], [a].[IsDeleted], [a].[IsEmailVerified], [a].[IsPhoneVerified], [a].[IsSystemAccount], [a].[JobTitle], [a].[LastName], [a].[LimitedToStores], [a].[MiddleName], [a].[ModifiedBy], [a].[ModifiedOn], [a].[PhoneNumber], [a].[RegisteredInStoreId], [a].[RequireReLogin], [a].[SystemName], [a].[Username]
FROM [AppUser].[AppUser] AS [a]
WHERE ([a].[IsDeleted] <> CAST(1 AS bit)) AND (([a].[Username] = @__forgotPassword_Username_0) OR ([a].[PhoneNumber] = @__forgotPassword_Username_0))
2022-02-18 14:17:39.377 +05:45 [INF] Executed DbCommand (274ms) [Parameters=[@p0='8063', @p1='77066585' (Size = 4000), @p2='2022-02-19T00:17:38', @p3='2022-02-18T14:17:38', @p4=NULL (DbType = DateTime2), @p5='False'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AppUser].[OtpCode] ([AppUserId], [Code], [CodeExpireOn], [CodeGeneratedOn], [CodeUsedOn], [IsCodeUsed])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [AppUser].[OtpCode]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-02-18 14:17:44.116 +05:45 [INF] Entity Framework Core 3.1.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled 
2022-02-18 14:17:44.408 +05:45 [INF] Executed action method PreSchool.Controllers.AppUsersController.ForgotPassword (PreSchool), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 8966.0378ms.
2022-02-18 14:17:44.409 +05:45 [INF] Executing ObjectResult, writing value of type 'System.Boolean'.
2022-02-18 14:17:44.409 +05:45 [INF] Executed action PreSchool.Controllers.AppUsersController.ForgotPassword (PreSchool) in 9021.1553ms
2022-02-18 14:17:44.410 +05:45 [INF] Executed endpoint 'PreSchool.Controllers.AppUsersController.ForgotPassword (PreSchool)'
2022-02-18 14:17:44.410 +05:45 [INF] HTTP POST /api/AppUsers/ForgotPassword responded 200 in 9022.0313 ms
2022-02-18 14:17:44.410 +05:45 [INF] Request finished in 9024.5263ms 200 application/json; charset=utf-8
2022-02-18 14:17:44.417 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/profiler/results application/json 45
2022-02-18 14:17:44.418 +05:45 [INF] Request finished in 1.2651ms 200 application/json
2022-02-18 14:17:44.679 +05:45 [INF] Executed DbCommand (274ms) [Parameters=[@p0='<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body style="margin: 0;">
    <div class="main-wrapper"
         style="background: #f3f3f3; overflow: hidden; padding: 44px 24px 64px; font-family: 'Lato', 'Open Sans', sans-serif; font-size: 14px;">
        <div class="content-wrapper"
             style="background-blend-mode: 14; background: #fefefe; overflow: hidden; font-family: 'Lato', 'Open Sans', sans-serif; font-size: 14px; border-radius: 20px;">
            <div class="header-img"
                 style="display: flex; flex-direction: row; align-items: center; justify-content: space-between; flex-wrap: wrap; margin-bottom: 24px; padding-top: 24px;">
          
                <div class="right-img" style="margin-bottom: 14px; padding-left: 24px; padding-right: 34px;margin-left: auto;">
                    <div class="company-logo">
                        <img src="https://localhost:44375/Images/hattiya_logo_big.png" alt="" style="height: 40px;" />
                    </div>
                </div>
            </div>

            

<div class="content" style="padding: 0 24px 24px;">
    <div class="welcome"
         style="font-size: 20px; font-weight: 700; margin-bottom: 24px; font-family: 'Open Sans', 'Lato', sans-serif;">
        Recover your Hattiya account.
    </div>
    <div class="greeting" style="margin-bottom: 14px;">
        <span style="margin-right: 2px;">Dear </span>
        <span style="font-weight: 700;">dumarumanish@gmail.com</span>,
    </div>

    <div style="margin-bottom: 14px;">
        Please use 77066585, for accessing your account. We would request you to change your password immediately after login for secure browsing.
    </div>
    <div style="margin-bottom: 14px;">
        If you havenâ€™t requested for reset or for password change, we request you to immediately inform our support department at support@hattiya.com for further assistance.
    </div>
</div>
            <div class="email-footer" style="margin-top: 14px; padding: 0 24px 24px;">
                <div class="regard-wrap" style="margin-bottom: 24px;">
                    <div class="regard" style="margin-bottom: 4px;">
                        Regards,
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        Hattiya Pvt. Ltd
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        New Baneshwor, Kathmandu
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        <a href="support@hattiya.com" style="text-decoration: underline;color: #2196F3;">support@hattiya.com</a>
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        <a href="www.hattiya.com" style="text-decoration: underline;color: #2196F3;">www.hattiya.com</a>
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        <img src="https://localhost:44375/Images/hattiya_logo_big.png" alt="" style="height: 40px;" />

                    </div>
                </div>

            </div>
        </div>
                                                                                </div>
                                                                            </body>

</html>
' (Size = 4000), @p1='True', @p2='2022-02-18T14:17:44', @p3=NULL (DbType = Int32), @p4='Recover your Hattiya account.' (Size = 4000), @p5='dumarumanish@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Email].[History] ([Body], [SendByAppUser], [SendDateTime], [SenderId], [Subject], [ToEmailId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Email].[History]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-02-18 14:18:14.200 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/api/AppUsers/ResetPassword application/json-patch+json 144
2022-02-18 14:18:14.202 +05:45 [INF] CORS policy execution failed.
2022-02-18 14:18:14.202 +05:45 [INF] Request origin https://localhost:44375 does not have permission to access the resource.
2022-02-18 14:18:14.203 +05:45 [INF] Executing endpoint 'PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool)'
2022-02-18 14:18:14.203 +05:45 [INF] Route matched with {action = "ResetPassword", controller = "AppUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] ResetPassword(PreSchool.Application.Services.AppUsers.Models.Commands.ResetPasswordCommand) on controller PreSchool.Controllers.AppUsersController (PreSchool).
2022-02-18 14:18:14.307 +05:45 [INF] Executing action method PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool) - Validation state: "Valid"
2022-02-18 14:18:17.152 +05:45 [INF] Entity Framework Core 3.1.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled 
2022-02-18 14:18:17.454 +05:45 [INF] Executed DbCommand (277ms) [Parameters=[@__resetPassword_Username_0='dumarumanish@gmail.com' (Size = 128), @__resetPassword_AppUserTypeId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Active], [t].[AddressId], [t].[AdminComment], [t].[AppUserTypeId], [t].[CannotLoginUntilDate], [t].[CreatedBy], [t].[CreatedOn], [t].[DepartmentId], [t].[Email], [t].[FacebookUserId], [t].[FailedLoginAttempts], [t].[FirstName], [t].[GoogleUserId], [t].[IsDeleted], [t].[IsEmailVerified], [t].[IsPhoneVerified], [t].[IsSystemAccount], [t].[JobTitle], [t].[LastName], [t].[LimitedToStores], [t].[MiddleName], [t].[ModifiedBy], [t].[ModifiedOn], [t].[PhoneNumber], [t].[RegisteredInStoreId], [t].[RequireReLogin], [t].[SystemName], [t].[Username], [p].[Id], [p].[AppUserId], [p].[CreatedOn], [p].[EnablePasswordLifetime], [p].[IsCurrent], [p].[PasswordExpiredOn], [p].[PasswordHash], [p].[PasswordSalt], [p].[RequiredPasswordChange]
FROM (
    SELECT TOP(1) [a].[Id], [a].[Active], [a].[AddressId], [a].[AdminComment], [a].[AppUserTypeId], [a].[CannotLoginUntilDate], [a].[CreatedBy], [a].[CreatedOn], [a].[DepartmentId], [a].[Email], [a].[FacebookUserId], [a].[FailedLoginAttempts], [a].[FirstName], [a].[GoogleUserId], [a].[IsDeleted], [a].[IsEmailVerified], [a].[IsPhoneVerified], [a].[IsSystemAccount], [a].[JobTitle], [a].[LastName], [a].[LimitedToStores], [a].[MiddleName], [a].[ModifiedBy], [a].[ModifiedOn], [a].[PhoneNumber], [a].[RegisteredInStoreId], [a].[RequireReLogin], [a].[SystemName], [a].[Username]
    FROM [AppUser].[AppUser] AS [a]
    WHERE ([a].[IsDeleted] <> CAST(1 AS bit)) AND ((([a].[Username] = @__resetPassword_Username_0) OR ([a].[PhoneNumber] = @__resetPassword_Username_0)) AND ([a].[AppUserTypeId] = @__resetPassword_AppUserTypeId_1))
    ORDER BY [a].[Id] DESC
) AS [t]
LEFT JOIN [AppUser].[Password] AS [p] ON [t].[Id] = [p].[AppUserId]
ORDER BY [t].[Id] DESC, [p].[Id]
2022-02-18 14:18:22.785 +05:45 [INF] Executed DbCommand (271ms) [Parameters=[@__user_Id_0='8063', @__resetPassword_Code_1='77066585' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[AppUserId], [o].[Code], [o].[CodeExpireOn], [o].[CodeGeneratedOn], [o].[CodeUsedOn], [o].[IsCodeUsed]
FROM [AppUser].[OtpCode] AS [o]
WHERE (([o].[AppUserId] = @__user_Id_0) AND ([o].[IsCodeUsed] <> CAST(1 AS bit))) AND ([o].[Code] = @__resetPassword_Code_1)
ORDER BY [o].[Id] DESC
2022-02-18 14:18:35.595 +05:45 [INF] Executed DbCommand (272ms) [Parameters=[@p2='8056', @p0='2022-02-18T14:18:28' (Nullable = true), @p1='True'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser].[OtpCode] SET [CodeUsedOn] = @p0, [IsCodeUsed] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2022-02-18 14:18:35.869 +05:45 [INF] Executed DbCommand (271ms) [Parameters=[@p1='10057', @p0='False'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser].[Password] SET [IsCurrent] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2022-02-18 14:18:36.144 +05:45 [INF] Executed DbCommand (273ms) [Parameters=[@p0='8063', @p1='2022-02-18T14:18:34', @p2='False', @p3='True', @p4=NULL (DbType = DateTime2), @p5='0x1FB8EEC2E7417942C96720BB8AFB63A36A9F0325B7D0BB8088C515D4B8269ECF...' (Nullable = false) (Size = 8000), @p6='0xA824B18DE12D36FF058B0DED3AC967376B2691A2325C32F483E433E454A1752E...' (Nullable = false) (Size = 8000), @p7='False'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AppUser].[Password] ([AppUserId], [CreatedOn], [EnablePasswordLifetime], [IsCurrent], [PasswordExpiredOn], [PasswordHash], [PasswordSalt], [RequiredPasswordChange])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [AppUser].[Password]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-02-18 14:18:36.429 +05:45 [INF] Entity Framework Core 3.1.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled 
2022-02-18 14:18:36.706 +05:45 [INF] Executed action method PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 22398.6259ms.
2022-02-18 14:18:36.707 +05:45 [INF] Executing ObjectResult, writing value of type 'System.Boolean'.
2022-02-18 14:18:36.708 +05:45 [INF] Executed action PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool) in 22504.4878ms
2022-02-18 14:18:36.708 +05:45 [INF] Executed endpoint 'PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool)'
2022-02-18 14:18:36.708 +05:45 [INF] HTTP POST /api/AppUsers/ResetPassword responded 200 in 22505.3822 ms
2022-02-18 14:18:36.709 +05:45 [INF] Request finished in 22509.0515ms 200 application/json; charset=utf-8
2022-02-18 14:18:36.730 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/profiler/results application/json 45
2022-02-18 14:18:36.732 +05:45 [INF] Request finished in 4.2664ms 200 application/json
2022-02-18 14:18:36.975 +05:45 [INF] Executed DbCommand (273ms) [Parameters=[@p0='<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body style="margin: 0;">
    <div class="main-wrapper"
         style="background: #f3f3f3; overflow: hidden; padding: 44px 24px 64px; font-family: 'Lato', 'Open Sans', sans-serif; font-size: 14px;">
        <div class="content-wrapper"
             style="background-blend-mode: 14; background: #fefefe; overflow: hidden; font-family: 'Lato', 'Open Sans', sans-serif; font-size: 14px; border-radius: 20px;">
            <div class="header-img"
                 style="display: flex; flex-direction: row; align-items: center; justify-content: space-between; flex-wrap: wrap; margin-bottom: 24px; padding-top: 24px;">
          
                <div class="right-img" style="margin-bottom: 14px; padding-left: 24px; padding-right: 34px;margin-left: auto;">
                    <div class="company-logo">
                        <img src="https://localhost:44375/Images/hattiya_logo_big.png" alt="" style="height: 40px;" />
                    </div>
                </div>
            </div>

            

<p>
    Dear <b> dumarumanish@gmail.com </b>,
</p>

<p>
    Your password has been successfully reset for the account <b>dumarumanish@gmail.com</b>.
</p>

<p>
    If you havenâ€™t requested for reset or for password change, we request you to immediately inform our support department at <a href="mailto: support@hattiya.com">support@hattiya.com</a> for further assistance.

</p>
            <div class="email-footer" style="margin-top: 14px; padding: 0 24px 24px;">
                <div class="regard-wrap" style="margin-bottom: 24px;">
                    <div class="regard" style="margin-bottom: 4px;">
                        Regards,
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        Hattiya Pvt. Ltd
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        New Baneshwor, Kathmandu
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        <a href="support@hattiya.com" style="text-decoration: underline;color: #2196F3;">support@hattiya.com</a>
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        <a href="www.hattiya.com" style="text-decoration: underline;color: #2196F3;">www.hattiya.com</a>
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        <img src="https://localhost:44375/Images/hattiya_logo_big.png" alt="" style="height: 40px;" />

                    </div>
                </div>

            </div>
        </div>
                                                                                </div>
                                                                            </body>

</html>
' (Size = 4000), @p1='True', @p2='2022-02-18T14:18:36', @p3=NULL (DbType = Int32), @p4='Password reset successfully  ' (Size = 4000), @p5='dumarumanish@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Email].[History] ([Body], [SendByAppUser], [SendDateTime], [SenderId], [Subject], [ToEmailId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Email].[History]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-02-18 14:19:15.077 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/api/AppUsers/ForgotPassword application/json-patch+json 82
2022-02-18 14:19:15.078 +05:45 [INF] CORS policy execution failed.
2022-02-18 14:19:15.078 +05:45 [INF] Request origin https://localhost:44375 does not have permission to access the resource.
2022-02-18 14:19:15.122 +05:45 [INF] Executing endpoint 'PreSchool.Controllers.AppUsersController.ForgotPassword (PreSchool)'
2022-02-18 14:19:15.123 +05:45 [INF] Route matched with {action = "ForgotPassword", controller = "AppUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] ForgotPassword(PreSchool.Application.Services.AppUsers.Models.Commands.ForgotPasswordCommand) on controller PreSchool.Controllers.AppUsersController (PreSchool).
2022-02-18 14:19:15.183 +05:45 [INF] Executing action method PreSchool.Controllers.AppUsersController.ForgotPassword (PreSchool) - Validation state: "Valid"
2022-02-18 14:19:15.185 +05:45 [INF] Entity Framework Core 3.1.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled 
2022-02-18 14:19:15.460 +05:45 [INF] Executed DbCommand (273ms) [Parameters=[@__forgotPassword_Username_0='dumarumanish@gmail.com' (Size = 128)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Active], [a].[AddressId], [a].[AdminComment], [a].[AppUserTypeId], [a].[CannotLoginUntilDate], [a].[CreatedBy], [a].[CreatedOn], [a].[DepartmentId], [a].[Email], [a].[FacebookUserId], [a].[FailedLoginAttempts], [a].[FirstName], [a].[GoogleUserId], [a].[IsDeleted], [a].[IsEmailVerified], [a].[IsPhoneVerified], [a].[IsSystemAccount], [a].[JobTitle], [a].[LastName], [a].[LimitedToStores], [a].[MiddleName], [a].[ModifiedBy], [a].[ModifiedOn], [a].[PhoneNumber], [a].[RegisteredInStoreId], [a].[RequireReLogin], [a].[SystemName], [a].[Username]
FROM [AppUser].[AppUser] AS [a]
WHERE ([a].[IsDeleted] <> CAST(1 AS bit)) AND (([a].[Username] = @__forgotPassword_Username_0) OR ([a].[PhoneNumber] = @__forgotPassword_Username_0))
2022-02-18 14:19:16.023 +05:45 [INF] Executed DbCommand (275ms) [Parameters=[@p0='8063', @p1='20282867' (Size = 4000), @p2='2022-02-19T00:19:15', @p3='2022-02-18T14:19:15', @p4=NULL (DbType = DateTime2), @p5='False'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AppUser].[OtpCode] ([AppUserId], [Code], [CodeExpireOn], [CodeGeneratedOn], [CodeUsedOn], [IsCodeUsed])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [AppUser].[OtpCode]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-02-18 14:19:16.306 +05:45 [INF] Entity Framework Core 3.1.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled 
2022-02-18 14:19:16.587 +05:45 [INF] Executed action method PreSchool.Controllers.AppUsersController.ForgotPassword (PreSchool), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1403.7111ms.
2022-02-18 14:19:16.588 +05:45 [INF] Executing ObjectResult, writing value of type 'System.Boolean'.
2022-02-18 14:19:16.589 +05:45 [INF] Executed action PreSchool.Controllers.AppUsersController.ForgotPassword (PreSchool) in 1466.3921ms
2022-02-18 14:19:16.589 +05:45 [INF] Executed endpoint 'PreSchool.Controllers.AppUsersController.ForgotPassword (PreSchool)'
2022-02-18 14:19:16.590 +05:45 [INF] HTTP POST /api/AppUsers/ForgotPassword responded 200 in 1467.4932 ms
2022-02-18 14:19:16.590 +05:45 [INF] Request finished in 1513.626ms 200 application/json; charset=utf-8
2022-02-18 14:19:16.598 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/profiler/results application/json 45
2022-02-18 14:19:16.637 +05:45 [INF] Request finished in 39.2518ms 200 application/json
2022-02-18 14:19:16.870 +05:45 [INF] Executed DbCommand (287ms) [Parameters=[@p0='<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body style="margin: 0;">
    <div class="main-wrapper"
         style="background: #f3f3f3; overflow: hidden; padding: 44px 24px 64px; font-family: 'Lato', 'Open Sans', sans-serif; font-size: 14px;">
        <div class="content-wrapper"
             style="background-blend-mode: 14; background: #fefefe; overflow: hidden; font-family: 'Lato', 'Open Sans', sans-serif; font-size: 14px; border-radius: 20px;">
            <div class="header-img"
                 style="display: flex; flex-direction: row; align-items: center; justify-content: space-between; flex-wrap: wrap; margin-bottom: 24px; padding-top: 24px;">
          
                <div class="right-img" style="margin-bottom: 14px; padding-left: 24px; padding-right: 34px;margin-left: auto;">
                    <div class="company-logo">
                        <img src="https://localhost:44375/Images/hattiya_logo_big.png" alt="" style="height: 40px;" />
                    </div>
                </div>
            </div>

            

<div class="content" style="padding: 0 24px 24px;">
    <div class="welcome"
         style="font-size: 20px; font-weight: 700; margin-bottom: 24px; font-family: 'Open Sans', 'Lato', sans-serif;">
        Recover your Hattiya account.
    </div>
    <div class="greeting" style="margin-bottom: 14px;">
        <span style="margin-right: 2px;">Dear </span>
        <span style="font-weight: 700;">dumarumanish@gmail.com</span>,
    </div>

    <div style="margin-bottom: 14px;">
        Please use 20282867, for accessing your account. We would request you to change your password immediately after login for secure browsing.
    </div>
    <div style="margin-bottom: 14px;">
        If you havenâ€™t requested for reset or for password change, we request you to immediately inform our support department at support@hattiya.com for further assistance.
    </div>
</div>
            <div class="email-footer" style="margin-top: 14px; padding: 0 24px 24px;">
                <div class="regard-wrap" style="margin-bottom: 24px;">
                    <div class="regard" style="margin-bottom: 4px;">
                        Regards,
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        Hattiya Pvt. Ltd
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        New Baneshwor, Kathmandu
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        <a href="support@hattiya.com" style="text-decoration: underline;color: #2196F3;">support@hattiya.com</a>
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        <a href="www.hattiya.com" style="text-decoration: underline;color: #2196F3;">www.hattiya.com</a>
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        <img src="https://localhost:44375/Images/hattiya_logo_big.png" alt="" style="height: 40px;" />

                    </div>
                </div>

            </div>
        </div>
                                                                                </div>
                                                                            </body>

</html>
' (Size = 4000), @p1='True', @p2='2022-02-18T14:19:16', @p3=NULL (DbType = Int32), @p4='Recover your Hattiya account.' (Size = 4000), @p5='dumarumanish@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Email].[History] ([Body], [SendByAppUser], [SendDateTime], [SenderId], [Subject], [ToEmailId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Email].[History]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-02-18 14:19:35.721 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/api/AppUsers/ResetPassword application/json-patch+json 144
2022-02-18 14:19:35.722 +05:45 [INF] CORS policy execution failed.
2022-02-18 14:19:35.722 +05:45 [INF] Request origin https://localhost:44375 does not have permission to access the resource.
2022-02-18 14:19:35.723 +05:45 [INF] Executing endpoint 'PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool)'
2022-02-18 14:19:35.723 +05:45 [INF] Route matched with {action = "ResetPassword", controller = "AppUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] ResetPassword(PreSchool.Application.Services.AppUsers.Models.Commands.ResetPasswordCommand) on controller PreSchool.Controllers.AppUsersController (PreSchool).
2022-02-18 14:19:35.777 +05:45 [INF] Executing action method PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool) - Validation state: "Valid"
2022-02-18 14:19:37.423 +05:45 [INF] Entity Framework Core 3.1.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled 
2022-02-18 14:19:37.701 +05:45 [INF] Executed DbCommand (274ms) [Parameters=[@__resetPassword_Username_0='dumarumanish@gmail.com' (Size = 128), @__resetPassword_AppUserTypeId_1='1'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Active], [t].[AddressId], [t].[AdminComment], [t].[AppUserTypeId], [t].[CannotLoginUntilDate], [t].[CreatedBy], [t].[CreatedOn], [t].[DepartmentId], [t].[Email], [t].[FacebookUserId], [t].[FailedLoginAttempts], [t].[FirstName], [t].[GoogleUserId], [t].[IsDeleted], [t].[IsEmailVerified], [t].[IsPhoneVerified], [t].[IsSystemAccount], [t].[JobTitle], [t].[LastName], [t].[LimitedToStores], [t].[MiddleName], [t].[ModifiedBy], [t].[ModifiedOn], [t].[PhoneNumber], [t].[RegisteredInStoreId], [t].[RequireReLogin], [t].[SystemName], [t].[Username], [p].[Id], [p].[AppUserId], [p].[CreatedOn], [p].[EnablePasswordLifetime], [p].[IsCurrent], [p].[PasswordExpiredOn], [p].[PasswordHash], [p].[PasswordSalt], [p].[RequiredPasswordChange]
FROM (
    SELECT TOP(1) [a].[Id], [a].[Active], [a].[AddressId], [a].[AdminComment], [a].[AppUserTypeId], [a].[CannotLoginUntilDate], [a].[CreatedBy], [a].[CreatedOn], [a].[DepartmentId], [a].[Email], [a].[FacebookUserId], [a].[FailedLoginAttempts], [a].[FirstName], [a].[GoogleUserId], [a].[IsDeleted], [a].[IsEmailVerified], [a].[IsPhoneVerified], [a].[IsSystemAccount], [a].[JobTitle], [a].[LastName], [a].[LimitedToStores], [a].[MiddleName], [a].[ModifiedBy], [a].[ModifiedOn], [a].[PhoneNumber], [a].[RegisteredInStoreId], [a].[RequireReLogin], [a].[SystemName], [a].[Username]
    FROM [AppUser].[AppUser] AS [a]
    WHERE ([a].[IsDeleted] <> CAST(1 AS bit)) AND ((([a].[Username] = @__resetPassword_Username_0) OR ([a].[PhoneNumber] = @__resetPassword_Username_0)) AND ([a].[AppUserTypeId] = @__resetPassword_AppUserTypeId_1))
    ORDER BY [a].[Id] DESC
) AS [t]
LEFT JOIN [AppUser].[Password] AS [p] ON [t].[Id] = [p].[AppUserId]
ORDER BY [t].[Id] DESC, [p].[Id]
2022-02-18 14:19:37.975 +05:45 [INF] Executed DbCommand (271ms) [Parameters=[@__user_Id_0='8063', @__resetPassword_Code_1='20282867' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[AppUserId], [o].[Code], [o].[CodeExpireOn], [o].[CodeGeneratedOn], [o].[CodeUsedOn], [o].[IsCodeUsed]
FROM [AppUser].[OtpCode] AS [o]
WHERE (([o].[AppUserId] = @__user_Id_0) AND ([o].[IsCodeUsed] <> CAST(1 AS bit))) AND ([o].[Code] = @__resetPassword_Code_1)
ORDER BY [o].[Id] DESC
2022-02-18 14:19:38.525 +05:45 [INF] Executed DbCommand (271ms) [Parameters=[@p2='8057', @p0='2022-02-18T14:19:37' (Nullable = true), @p1='True'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser].[OtpCode] SET [CodeUsedOn] = @p0, [IsCodeUsed] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2022-02-18 14:19:38.797 +05:45 [INF] Executed DbCommand (271ms) [Parameters=[@p1='10062', @p0='False'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser].[Password] SET [IsCurrent] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2022-02-18 14:19:39.070 +05:45 [INF] Executed DbCommand (272ms) [Parameters=[@p0='8063', @p1='2022-02-18T14:19:37', @p2='False', @p3='True', @p4=NULL (DbType = DateTime2), @p5='0x888E6B237AD3A3CA735360F0570311A355A31BF60EDB8D8CA63EB8AA9F4A37ED...' (Nullable = false) (Size = 8000), @p6='0x7F0AFD652814B6B318FF9EF91FEDEE923D77E598BBCF3D90DBE1295046D1BF35...' (Nullable = false) (Size = 8000), @p7='False'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AppUser].[Password] ([AppUserId], [CreatedOn], [EnablePasswordLifetime], [IsCurrent], [PasswordExpiredOn], [PasswordHash], [PasswordSalt], [RequiredPasswordChange])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT [Id]
FROM [AppUser].[Password]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-02-18 14:19:39.346 +05:45 [INF] Entity Framework Core 3.1.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled 
2022-02-18 14:19:39.624 +05:45 [INF] Executed action method PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 3847.3409ms.
2022-02-18 14:19:39.625 +05:45 [INF] Executing ObjectResult, writing value of type 'System.Boolean'.
2022-02-18 14:19:39.626 +05:45 [INF] Executed action PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool) in 3903.1493ms
2022-02-18 14:19:39.627 +05:45 [INF] Executed endpoint 'PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool)'
2022-02-18 14:19:39.627 +05:45 [INF] HTTP POST /api/AppUsers/ResetPassword responded 200 in 3903.8535 ms
2022-02-18 14:19:39.627 +05:45 [INF] Request finished in 3905.9293ms 200 application/json; charset=utf-8
2022-02-18 14:19:39.643 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/profiler/results application/json 45
2022-02-18 14:19:39.646 +05:45 [INF] Request finished in 2.857ms 200 application/json
2022-02-18 14:19:39.894 +05:45 [INF] Executed DbCommand (274ms) [Parameters=[@p0='<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body style="margin: 0;">
    <div class="main-wrapper"
         style="background: #f3f3f3; overflow: hidden; padding: 44px 24px 64px; font-family: 'Lato', 'Open Sans', sans-serif; font-size: 14px;">
        <div class="content-wrapper"
             style="background-blend-mode: 14; background: #fefefe; overflow: hidden; font-family: 'Lato', 'Open Sans', sans-serif; font-size: 14px; border-radius: 20px;">
            <div class="header-img"
                 style="display: flex; flex-direction: row; align-items: center; justify-content: space-between; flex-wrap: wrap; margin-bottom: 24px; padding-top: 24px;">
          
                <div class="right-img" style="margin-bottom: 14px; padding-left: 24px; padding-right: 34px;margin-left: auto;">
                    <div class="company-logo">
                        <img src="https://localhost:44375/Images/hattiya_logo_big.png" alt="" style="height: 40px;" />
                    </div>
                </div>
            </div>

            

<p>
    Dear <b> dumarumanish@gmail.com </b>,
</p>

<p>
    Your password has been successfully reset for the account <b>dumarumanish@gmail.com</b>.
</p>

<p>
    If you havenâ€™t requested for reset or for password change, we request you to immediately inform our support department at <a href="mailto: support@hattiya.com">support@hattiya.com</a> for further assistance.

</p>
            <div class="email-footer" style="margin-top: 14px; padding: 0 24px 24px;">
                <div class="regard-wrap" style="margin-bottom: 24px;">
                    <div class="regard" style="margin-bottom: 4px;">
                        Regards,
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        Hattiya Pvt. Ltd
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        New Baneshwor, Kathmandu
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        <a href="support@hattiya.com" style="text-decoration: underline;color: #2196F3;">support@hattiya.com</a>
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        <a href="www.hattiya.com" style="text-decoration: underline;color: #2196F3;">www.hattiya.com</a>
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        <img src="https://localhost:44375/Images/hattiya_logo_big.png" alt="" style="height: 40px;" />

                    </div>
                </div>

            </div>
        </div>
                                                                                </div>
                                                                            </body>

</html>
' (Size = 4000), @p1='True', @p2='2022-02-18T14:19:39', @p3=NULL (DbType = Int32), @p4='Password reset successfully  ' (Size = 4000), @p5='dumarumanish@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Email].[History] ([Body], [SendByAppUser], [SendDateTime], [SenderId], [Subject], [ToEmailId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Email].[History]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-02-18 14:22:17.990 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/api/AppUsers/ForgotPassword application/json-patch+json 66
2022-02-18 14:22:18.005 +05:45 [INF] CORS policy execution failed.
2022-02-18 14:22:18.005 +05:45 [INF] Request origin https://localhost:44375 does not have permission to access the resource.
2022-02-18 14:22:18.006 +05:45 [INF] Executing endpoint 'PreSchool.Controllers.AppUsersController.ForgotPassword (PreSchool)'
2022-02-18 14:22:18.006 +05:45 [INF] Route matched with {action = "ForgotPassword", controller = "AppUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] ForgotPassword(PreSchool.Application.Services.AppUsers.Models.Commands.ForgotPasswordCommand) on controller PreSchool.Controllers.AppUsersController (PreSchool).
2022-02-18 14:22:18.048 +05:45 [INF] Executing action method PreSchool.Controllers.AppUsersController.ForgotPassword (PreSchool) - Validation state: "Valid"
2022-02-18 14:22:18.049 +05:45 [INF] Entity Framework Core 3.1.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled 
2022-02-18 14:22:18.322 +05:45 [INF] Executed DbCommand (272ms) [Parameters=[@__forgotPassword_Username_0='test99' (Size = 128)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Active], [a].[AddressId], [a].[AdminComment], [a].[AppUserTypeId], [a].[CannotLoginUntilDate], [a].[CreatedBy], [a].[CreatedOn], [a].[DepartmentId], [a].[Email], [a].[FacebookUserId], [a].[FailedLoginAttempts], [a].[FirstName], [a].[GoogleUserId], [a].[IsDeleted], [a].[IsEmailVerified], [a].[IsPhoneVerified], [a].[IsSystemAccount], [a].[JobTitle], [a].[LastName], [a].[LimitedToStores], [a].[MiddleName], [a].[ModifiedBy], [a].[ModifiedOn], [a].[PhoneNumber], [a].[RegisteredInStoreId], [a].[RequireReLogin], [a].[SystemName], [a].[Username]
FROM [AppUser].[AppUser] AS [a]
WHERE ([a].[IsDeleted] <> CAST(1 AS bit)) AND (([a].[Username] = @__forgotPassword_Username_0) OR ([a].[PhoneNumber] = @__forgotPassword_Username_0))
2022-02-18 14:22:18.869 +05:45 [INF] Executed DbCommand (272ms) [Parameters=[@p0='9088', @p1='43970235' (Size = 4000), @p2='2022-02-19T00:22:18', @p3='2022-02-18T14:22:18', @p4=NULL (DbType = DateTime2), @p5='False'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AppUser].[OtpCode] ([AppUserId], [Code], [CodeExpireOn], [CodeGeneratedOn], [CodeUsedOn], [IsCodeUsed])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [AppUser].[OtpCode]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-02-18 14:22:19.143 +05:45 [INF] Entity Framework Core 3.1.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled 
2022-02-18 14:22:19.420 +05:45 [INF] Executed action method PreSchool.Controllers.AppUsersController.ForgotPassword (PreSchool), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1372.4307ms.
2022-02-18 14:22:19.421 +05:45 [INF] Executing ObjectResult, writing value of type 'System.Boolean'.
2022-02-18 14:22:19.422 +05:45 [INF] Executed action PreSchool.Controllers.AppUsersController.ForgotPassword (PreSchool) in 1415.612ms
2022-02-18 14:22:19.422 +05:45 [INF] Executed endpoint 'PreSchool.Controllers.AppUsersController.ForgotPassword (PreSchool)'
2022-02-18 14:22:19.422 +05:45 [INF] HTTP POST /api/AppUsers/ForgotPassword responded 200 in 1416.6334 ms
2022-02-18 14:22:19.423 +05:45 [INF] Request finished in 1432.8573ms 200 application/json; charset=utf-8
2022-02-18 14:22:19.427 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/profiler/results application/json 45
2022-02-18 14:22:19.428 +05:45 [INF] Request finished in 1.0597ms 200 application/json
2022-02-18 14:22:19.695 +05:45 [INF] Executed DbCommand (278ms) [Parameters=[@p0='<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body style="margin: 0;">
    <div class="main-wrapper"
         style="background: #f3f3f3; overflow: hidden; padding: 44px 24px 64px; font-family: 'Lato', 'Open Sans', sans-serif; font-size: 14px;">
        <div class="content-wrapper"
             style="background-blend-mode: 14; background: #fefefe; overflow: hidden; font-family: 'Lato', 'Open Sans', sans-serif; font-size: 14px; border-radius: 20px;">
            <div class="header-img"
                 style="display: flex; flex-direction: row; align-items: center; justify-content: space-between; flex-wrap: wrap; margin-bottom: 24px; padding-top: 24px;">
          
                <div class="right-img" style="margin-bottom: 14px; padding-left: 24px; padding-right: 34px;margin-left: auto;">
                    <div class="company-logo">
                        <img src="https://localhost:44375/Images/hattiya_logo_big.png" alt="" style="height: 40px;" />
                    </div>
                </div>
            </div>

            

<div class="content" style="padding: 0 24px 24px;">
    <div class="welcome"
         style="font-size: 20px; font-weight: 700; margin-bottom: 24px; font-family: 'Open Sans', 'Lato', sans-serif;">
        Recover your Hattiya account.
    </div>
    <div class="greeting" style="margin-bottom: 14px;">
        <span style="margin-right: 2px;">Dear </span>
        <span style="font-weight: 700;">test99</span>,
    </div>

    <div style="margin-bottom: 14px;">
        Please use 43970235, for accessing your account. We would request you to change your password immediately after login for secure browsing.
    </div>
    <div style="margin-bottom: 14px;">
        If you havenâ€™t requested for reset or for password change, we request you to immediately inform our support department at support@hattiya.com for further assistance.
    </div>
</div>
            <div class="email-footer" style="margin-top: 14px; padding: 0 24px 24px;">
                <div class="regard-wrap" style="margin-bottom: 24px;">
                    <div class="regard" style="margin-bottom: 4px;">
                        Regards,
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        Hattiya Pvt. Ltd
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        New Baneshwor, Kathmandu
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        <a href="support@hattiya.com" style="text-decoration: underline;color: #2196F3;">support@hattiya.com</a>
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        <a href="www.hattiya.com" style="text-decoration: underline;color: #2196F3;">www.hattiya.com</a>
                    </div>
                    <div class="name" style="margin-bottom: 4px; font-weight: 700;">
                        <img src="https://localhost:44375/Images/hattiya_logo_big.png" alt="" style="height: 40px;" />

                    </div>
                </div>

            </div>
        </div>
                                                                                </div>
                                                                            </body>

</html>
' (Size = 4000), @p1='True', @p2='2022-02-18T14:22:19', @p3=NULL (DbType = Int32), @p4='Recover your Hattiya account.' (Size = 4000), @p5='test.demo1@yopmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Email].[History] ([Body], [SendByAppUser], [SendDateTime], [SenderId], [Subject], [ToEmailId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Email].[History]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-02-18 14:27:13.416 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/api/AppUsers/ResetPassword application/json-patch+json 144
2022-02-18 14:27:13.419 +05:45 [INF] CORS policy execution failed.
2022-02-18 14:27:13.419 +05:45 [INF] Request origin https://localhost:44375 does not have permission to access the resource.
2022-02-18 14:27:13.420 +05:45 [INF] Executing endpoint 'PreSchool.Controllers.AppUsersController.ResetPassword (PreSchool)'
2022-02-18 14:27:13.421 +05:45 [INF] Route matched with {action = "ResetPassword", controller = "AppUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Boolean] ResetPassword(PreSchool.Applic2022-02-18 14:46:58.196 +05:45 [INF] Web Application Starts...
2022-02-18 14:47:04.092 +05:45 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2022-02-18 14:47:04.214 +05:45 [INF] Entity Framework Core 3.1.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled 
2022-02-18 14:47:06.276 +05:45 [INF] Executed DbCommand (295ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-02-18 14:47:06.577 +05:45 [INF] Executed DbCommand (287ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-02-18 14:47:06.849 +05:45 [INF] Executed DbCommand (269ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-02-18 14:47:07.118 +05:45 [INF] Executed DbCommand (266ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-02-18 14:47:07.421 +05:45 [INF] Executed DbCommand (268ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-02-18 14:47:07.444 +05:45 [INF] No migrations were applied. The database is already up to date.
2022-02-18 14:47:07.746 +05:45 [INF] Executed DbCommand (297ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-02-18 14:47:08.020 +05:45 [INF] Executed DbCommand (271ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2022-02-18 14:47:08.613 +05:45 [INF] Executed DbCommand (331ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Store].[Store] AS [s]
        WHERE [s].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 14:47:09.017 +05:45 [INF] Executed DbCommand (363ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AppUser].[Type] AS [t]
2022-02-18 14:47:09.300 +05:45 [INF] Executed DbCommand (270ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [App].[PermissionGroup] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 14:47:09.573 +05:45 [INF] Executed DbCommand (265ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [App].[PermissionGroup] AS [p]
2022-02-18 14:47:09.936 +05:45 [INF] Executed DbCommand (316ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [App].[Permission] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 14:47:10.294 +05:45 [INF] Executed DbCommand (351ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [App].[Permission] AS [p]
2022-02-18 14:47:10.603 +05:45 [INF] Executed DbCommand (297ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppUser].[Role] AS [r]
        WHERE [r].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 14:47:10.877 +05:45 [INF] Executed DbCommand (266ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppUser].[AppUser] AS [a]
        WHERE [a].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 14:47:11.203 +05:45 [INF] Executed DbCommand (267ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Active], [a].[AddressId], [a].[AdminComment], [a].[AppUserTypeId], [a].[CannotLoginUntilDate], [a].[CreatedBy], [a].[CreatedOn], [a].[DepartmentId], [a].[Email], [a].[FacebookUserId], [a].[FailedLoginAttempts], [a].[FirstName], [a].[GoogleUserId], [a].[IsDeleted], [a].[IsEmailVerified], [a].[IsPhoneVerified], [a].[IsSystemAccount], [a].[JobTitle], [a].[LastName], [a].[LimitedToStores], [a].[MiddleName], [a].[ModifiedBy], [a].[ModifiedOn], [a].[PhoneNumber], [a].[RegisteredInStoreId], [a].[RequireReLogin], [a].[SystemName], [a].[Username]
FROM [AppUser].[AppUser] AS [a]
WHERE ([a].[IsDeleted] <> CAST(1 AS bit)) AND ([a].[Username] = N'superadmin')
2022-02-18 14:47:11.619 +05:45 [INF] Executed DbCommand (266ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customer].[Gender] AS [g]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 14:47:11.908 +05:45 [INF] Executed DbCommand (267ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Setting].[Seo] AS [s]
        WHERE [s].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 14:47:12.260 +05:45 [INF] Executed DbCommand (291ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Address].[Country] AS [c]
        WHERE [c].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 14:47:12.547 +05:45 [INF] Executed DbCommand (265ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Store].[ImageType] AS [i]
WHERE [i].[IsDeleted] <> CAST(1 AS bit)
2022-02-18 14:47:12.818 +05:45 [INF] Executed DbCommand (264ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Vendor].[DocumentType] AS [d]
2022-02-18 14:47:13.094 +05:45 [INF] Executed DbCommand (265ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Vendor].[Type] AS [t]
2022-02-18 14:47:13.366 +05:45 [INF] Executed DbCommand (264ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Vendor].[Status] AS [s]
2022-02-18 14:47:13.640 +05:45 [INF] Executed DbCommand (266ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Tax].[Category] AS [c]
        WHERE [c].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 14:47:13.915 +05:45 [INF] Executed DbCommand (265ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Tax].[Setting] AS [s]
        WHERE [s].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 14:47:14.187 +05:45 [INF] Executed DbCommand (266ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Shipping].[DeliveryDateRange] AS [d]
        WHERE [d].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 14:47:14.460 +05:45 [INF] Executed DbCommand (265ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Shipping].[ProductAvailabilityRange] AS [p]
        WHERE [p].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 14:47:14.739 +05:45 [INF] Executed DbCommand (266ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Payment].[PaymentMode] AS [p]
2022-02-18 14:47:15.008 +05:45 [INF] Executed DbCommand (265ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [GroupManagement].[NotificationType] AS [n]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 14:47:15.288 +05:45 [INF] Executed DbCommand (265ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [GroupManagement].[SendOption] AS [s]
2022-02-18 14:47:15.561 +05:45 [INF] Executed DbCommand (267ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Contact].[IssueType] AS [i]
        WHERE [i].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 14:47:15.831 +05:45 [INF] Executed DbCommand (265ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SectionGroups] AS [s]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 14:47:16.779 +05:45 [INF] User profile is available. Using 'C:\Users\krennova\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-02-18 14:47:16.954 +05:45 [INF] Starting Hangfire Server using job storage: 'Hangfire.MemoryStorage.MemoryStorage'
2022-02-18 14:47:16.955 +05:45 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2022-02-18 14:47:17.194 +05:45 [INF] Server desktop-03qevr8:9032:97f5c499 successfully announced in 195.377 ms
2022-02-18 14:47:17.215 +05:45 [INF] Server desktop-03qevr8:9032:97f5c499 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2022-02-18 14:47:17.539 +05:45 [INF] Server desktop-03qevr8:9032:97f5c499 all the dispatchers started
2022-02-18 14:47:17.629 +05:45 [INF] Request starting HTTP/1.1 GET http://localhost:44375/index.html  
2022-02-18 14:47:17.629 +05:45 [INF] Request starting HTTP/1.1 DEBUG http://localhost:50254/  0
2022-02-18 14:47:17.676 +05:45 [INF] Request finished in 50.4401ms 200 
2022-02-18 14:47:17.840 +05:45 [INF] Request finished in 216.7829ms 200 text/html;charset=utf-8
2022-02-18 14:47:18.040 +05:45 [INF] Request starting HTTP/1.1 GET http://localhost:44375/swagger/v1/swagger.json  
2022-02-18 14:47:19.521 +05:45 [INF] Request finished in 1480.1805ms 200 application/json;charset=utf-8
2022-02-18 14:47:19.538 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/profiler/results application/json 45
2022-02-18 14:47:19.560 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/profiler/results application/json 45
2022-02-18 14:47:19.613 +05:45 [INF] Request finished in 75.0428ms 200 application/json
2022-02-18 14:47:19.613 +05:45 [INF] Request finished in 52.4887ms 200 application/json
2022-02-18 14:49:10.326 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/api/AppUsers/Login application/json-patch+json 61
2022-02-18 14:49:10.331 +05:45 [INF] CORS policy execution failed.
2022-02-18 14:49:10.332 +05:45 [INF] Request origin https://localhost:44375 does not have permission to access the resource.
2022-02-18 14:49:11.008 +05:45 [INF] Executing endpoint 'PreSchool.Controllers.AppUsersController.Login (PreSchool)'
2022-02-18 14:49:11.061 +05:45 [INF] Route matched with {action = "Login", controller = "AppUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[PreSchool.Application.Services.AppUsers.Models.Dtos.ValidUserDto] Login(PreSchool.Application.Models.AppUsers.Queries.Login) on controller PreSchool.Controllers.AppUsersController (PreSchool).
2022-02-18 14:49:11.330 +05:45 [INF] Executing action method PreSchool.Controllers.AppUsersController.Login (PreSchool) - Validation state: "Valid"
2022-02-18 14:49:11.342 +05:45 [INF] Entity Framework Core 3.1.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled 
2022-02-18 14:49:11.947 +05:45 [INF] Executed DbCommand (375ms) [Parameters=[@__loginCommand_UserName_0='superadmin' (Size = 128)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Active], [t].[AddressId], [t].[AdminComment], [t].[AppUserTypeId], [t].[CannotLoginUntilDate], [t].[CreatedBy], [t].[CreatedOn], [t].[DepartmentId], [t].[Email], [t].[FacebookUserId], [t].[FailedLoginAttempts], [t].[FirstName], [t].[GoogleUserId], [t].[IsDeleted], [t].[IsEmailVerified], [t].[IsPhoneVerified], [t].[IsSystemAccount], [t].[JobTitle], [t].[LastName], [t].[LimitedToStores], [t].[MiddleName], [t].[ModifiedBy], [t].[ModifiedOn], [t].[PhoneNumber], [t].[RegisteredInStoreId], [t].[RequireReLogin], [t].[SystemName], [t].[Username], [p].[Id], [p].[AppUserId], [p].[CreatedOn], [p].[EnablePasswordLifetime], [p].[IsCurrent], [p].[PasswordExpiredOn], [p].[PasswordHash], [p].[PasswordSalt], [p].[RequiredPasswordChange], [l].[Id], [l].[AppUserId], [l].[IpAddress], [l].[LoginDateTime], [t0].[Id], [t0].[AppUserId], [t0].[CreatedBy], [t0].[CreatedOn], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedOn], [t0].[RoleId], [t1].[Id], [t1].[AppUserId], [t1].[CreatedBy], [t1].[CreatedOn], [t1].[IsDeleted], [t1].[ModifiedBy], [t1].[ModifiedOn], [t1].[StoreId], [t2].[Id], [t2].[AppUserId], [t2].[CreatedBy], [t2].[CreatedOn], [t2].[IsAssociateUser], [t2].[IsDeleted], [t2].[ModifiedBy], [t2].[ModifiedOn], [t2].[VendorId]
FROM (
    SELECT TOP(1) [a].[Id], [a].[Active], [a].[AddressId], [a].[AdminComment], [a].[AppUserTypeId], [a].[CannotLoginUntilDate], [a].[CreatedBy], [a].[CreatedOn], [a].[DepartmentId], [a].[Email], [a].[FacebookUserId], [a].[FailedLoginAttempts], [a].[FirstName], [a].[GoogleUserId], [a].[IsDeleted], [a].[IsEmailVerified], [a].[IsPhoneVerified], [a].[IsSystemAccount], [a].[JobTitle], [a].[LastName], [a].[LimitedToStores], [a].[MiddleName], [a].[ModifiedBy], [a].[ModifiedOn], [a].[PhoneNumber], [a].[RegisteredInStoreId], [a].[RequireReLogin], [a].[SystemName], [a].[Username]
    FROM [AppUser].[AppUser] AS [a]
    WHERE ([a].[IsDeleted] <> CAST(1 AS bit)) AND ([a].[Username] = @__loginCommand_UserName_0)
) AS [t]
LEFT JOIN [AppUser].[Password] AS [p] ON [t].[Id] = [p].[AppUserId]
LEFT JOIN [AppUser].[LoginHistory] AS [l] ON [t].[Id] = [l].[AppUserId]
LEFT JOIN (
    SELECT [a0].[Id], [a0].[AppUserId], [a0].[CreatedBy], [a0].[CreatedOn], [a0].[IsDeleted], [a0].[ModifiedBy], [a0].[ModifiedOn], [a0].[RoleId]
    FROM [AppUser].[AppUserRole] AS [a0]
    WHERE [a0].[IsDeleted] <> CAST(1 AS bit)
) AS [t0] ON [t].[Id] = [t0].[AppUserId]
LEFT JOIN (
    SELECT [u].[Id], [u].[AppUserId], [u].[CreatedBy], [u].[CreatedOn], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedOn], [u].[StoreId]
    FROM [Store].[User] AS [u]
    WHERE [u].[IsDeleted] <> CAST(1 AS bit)
) AS [t1] ON [t].[Id] = [t1].[AppUserId]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[AppUserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[IsAssociateUser], [u0].[IsDeleted], [u0].[ModifiedBy], [u0].[ModifiedOn], [u0].[VendorId]
    FROM [Vendor].[User] AS [u0]
    WHERE [u0].[IsDeleted] <> CAST(1 AS bit)
) AS [t2] ON [t].[Id] = [t2].[AppUserId]
ORDER BY [t].[Id], [p].[Id], [l].[Id], [t0].[Id], [t1].[Id], [t2].[Id]
2022-02-18 14:49:15.327 +05:45 [INF] Executed DbCommand (272ms) [Parameters=[@p0='4', @p1='::1' (Size = 4000), @p2='2022-02-18T14:49:14'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AppUser].[LoginHistory] ([AppUserId], [IpAddress], [LoginDateTime])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [AppUser].[LoginHistory]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-02-18 14:49:15.990 +05:45 [INF] Executed DbCommand (270ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [r].[PermissionId]
FROM [AppUser].[RolePermission] AS [r]
WHERE ([r].[IsDeleted] <> CAST(1 AS bit)) AND [r].[RoleId] IN (1)
2022-02-18 14:49:16.247 +05:45 [INF] Executed action method PreSchool.Controllers.AppUsersController.Login (PreSchool), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 4911.855ms.
2022-02-18 14:49:16.258 +05:45 [INF] Executing ObjectResult, writing value of type 'PreSchool.Application.Services.AppUsers.Models.Dtos.ValidUserDto'.
2022-02-18 14:49:16.295 +05:45 [INF] Executed action PreSchool.Controllers.AppUsersController.Login (PreSchool) in 5223.9109ms
2022-02-18 14:49:16.296 +05:45 [INF] Executed endpoint 'PreSchool.Controllers.AppUsersController.Login (PreSchool)'
2022-02-18 14:49:16.299 +05:45 [INF] HTTP POST /api/AppUsers/Login responded 200 in 5291.4579 ms
2022-02-18 14:49:16.311 +05:45 [INF] Request finished in 5985.3835ms 200 application/json; charset=utf-8
2022-02-18 14:49:16.311 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/profiler/results application/json 45
2022-02-18 14:49:16.327 +05:45 [INF] Request finished in 15.5787ms 200 application/json
2022-02-18 14:56:16.021 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/api/AppUsers/Login application/json-patch+json 73
2022-02-18 14:56:16.023 +05:45 [INF] CORS policy execution failed.
2022-02-18 14:56:16.023 +05:45 [INF] Request origin https://localhost:44375 does not have permission to access the resource.
2022-02-18 14:56:16.045 +05:45 [INF] Executing endpoint 'PreSchool.Controllers.AppUsersController.Login (PreSchool)'
2022-02-18 14:56:16.055 +05:45 [INF] Route matched with {action = "Login", controller = "AppUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[PreSchool.Application.Services.AppUsers.Models.Dtos.ValidUserDto] Login(PreSchool.Application.Models.AppUsers.Queries.Login) on controller PreSchool.Controllers.AppUsersController (PreSchool).
2022-02-18 14:56:16.104 +05:45 [INF] Executing action method PreSchool.Controllers.AppUsersController.Login (PreSchool) - Validation state: "Valid"
2022-02-18 14:56:16.138 +05:45 [INF] Entity Framework Core 3.1.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled 
2022-02-18 14:56:17.529 +05:45 [INF] Executed DbCommand (278ms) [Parameters=[@__loginCommand_UserName_0='test.demo1@yopmail.com' (Size = 128)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Active], [t].[AddressId], [t].[AdminComment], [t].[AppUserTypeId], [t].[CannotLoginUntilDate], [t].[CreatedBy], [t].[CreatedOn], [t].[DepartmentId], [t].[Email], [t].[FacebookUserId], [t].[FailedLoginAttempts], [t].[FirstName], [t].[GoogleUserId], [t].[IsDeleted], [t].[IsEmailVerified], [t].[IsPhoneVerified], [t].[IsSystemAccount], [t].[JobTitle], [t].[LastName], [t].[LimitedToStores], [t].[MiddleName], [t].[ModifiedBy], [t].[ModifiedOn], [t].[PhoneNumber], [t].[RegisteredInStoreId], [t].[RequireReLogin], [t].[SystemName], [t].[Username], [p].[Id], [p].[AppUserId], [p].[CreatedOn], [p].[EnablePasswordLifetime], [p].[IsCurrent], [p].[PasswordExpiredOn], [p].[PasswordHash], [p].[PasswordSalt], [p].[RequiredPasswordChange], [l].[Id], [l].[AppUserId], [l].[IpAddress], [l].[LoginDateTime], [t0].[Id], [t0].[AppUserId], [t0].[CreatedBy], [t0].[CreatedOn], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedOn], [t0].[RoleId], [t1].[Id], [t1].[AppUserId], [t1].[CreatedBy], [t1].[CreatedOn], [t1].[IsDeleted], [t1].[ModifiedBy], [t1].[ModifiedOn], [t1].[StoreId], [t2].[Id], [t2].[AppUserId], [t2].[CreatedBy], [t2].[CreatedOn], [t2].[IsAssociateUser], [t2].[IsDeleted], [t2].[ModifiedBy], [t2].[ModifiedOn], [t2].[VendorId]
FROM (
    SELECT TOP(1) [a].[Id], [a].[Active], [a].[AddressId], [a].[AdminComment], [a].[AppUserTypeId], [a].[CannotLoginUntilDate], [a].[CreatedBy], [a].[CreatedOn], [a].[DepartmentId], [a].[Email], [a].[FacebookUserId], [a].[FailedLoginAttempts], [a].[FirstName], [a].[GoogleUserId], [a].[IsDeleted], [a].[IsEmailVerified], [a].[IsPhoneVerified], [a].[IsSystemAccount], [a].[JobTitle], [a].[LastName], [a].[LimitedToStores], [a].[MiddleName], [a].[ModifiedBy], [a].[ModifiedOn], [a].[PhoneNumber], [a].[RegisteredInStoreId], [a].[RequireReLogin], [a].[SystemName], [a].[Username]
    FROM [AppUser].[AppUser] AS [a]
    WHERE ([a].[IsDeleted] <> CAST(1 AS bit)) AND ([a].[Username] = @__loginCommand_UserName_0)
) AS [t]
LEFT JOIN [AppUser].[Password] AS [p] ON [t].[Id] = [p].[AppUserId]
LEFT JOIN [AppUser].[LoginHistory] AS [l] ON [t].[Id] = [l].[AppUserId]
LEFT JOIN (
    SELECT [a0].[Id], [a0].[AppUserId], [a0].[CreatedBy], [a0].[CreatedOn], [a0].[IsDeleted], [a0].[ModifiedBy], [a0].[ModifiedOn], [a0].[RoleId]
    FROM [AppUser].[AppUserRole] AS [a0]
    WHERE [a0].[IsDeleted] <> CAST(1 AS bit)
) AS [t0] ON [t].[Id] = [t0].[AppUserId]
LEFT JOIN (
    SELECT [u].[Id], [u].[AppUserId], [u].[CreatedBy], [u].[CreatedOn], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedOn], [u].[StoreId]
    FROM [Store].[User] AS [u]
    WHERE [u].[IsDeleted] <> CAST(1 AS bit)
) AS [t1] ON [t].[Id] = [t1].[AppUserId]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[AppUserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[IsAssociateUser], [u0].[IsDeleted], [u0].[ModifiedBy], [u0].[ModifiedOn], [u0].[VendorId]
    FROM [Vendor].[User] AS [u0]
    WHERE [u0].[IsDeleted] <> CAST(1 AS bit)
) AS [t2] ON [t].[Id] = [t2].[AppUserId]
ORDER BY [t].[Id], [p].[Id], [l].[Id], [t0].[Id], [t1].[Id], [t2].[Id]
2022-02-18 14:56:17.962 +05:45 [INF] Executed action PreSchool.Controllers.AppUsersController.Login (PreSchool) in 1906.9696ms
2022-02-18 14:56:17.963 +05:45 [INF] Executed endpoint 'PreSchool.Controllers.AppUsersController.Login (PreSchool)'
2022-02-18 14:56:17.963 +05:45 [ERR] HTTP POST /api/AppUsers/Login responded 500 in 1917.9600 ms
System.NotImplementedException: The method or operation is not implemented.
   at PreSchool.Application.Services.AppUsers.AppUserService.ValidateLogin(Login loginCommand) in D:\Krenova\Project\PreSchool\Src\PreSchool.Application\Services\AppUsers\AppUserService.cs:line 916
   at PreSchool.Controllers.AppUsersController.Login(Login command) in D:\Krenova\Project\PreSchool\Src\PreSchool\Controllers\AppUsersController.cs:line 41
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddle2022-02-18 15:12:08.736 +05:45 [INF] Web Application Starts...
2022-02-18 15:12:18.021 +05:45 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data, this mode should only be enabled during development.
2022-02-18 15:12:18.183 +05:45 [INF] Entity Framework Core 3.1.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled 
2022-02-18 15:12:20.365 +05:45 [INF] Executed DbCommand (308ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-02-18 15:12:20.666 +05:45 [INF] Executed DbCommand (286ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-02-18 15:12:20.937 +05:45 [INF] Executed DbCommand (268ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-02-18 15:12:21.210 +05:45 [INF] Executed DbCommand (271ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-02-18 15:12:21.500 +05:45 [INF] Executed DbCommand (270ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-02-18 15:12:21.531 +05:45 [INF] No migrations were applied. The database is already up to date.
2022-02-18 15:12:21.827 +05:45 [INF] Executed DbCommand (267ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-02-18 15:12:22.100 +05:45 [INF] Executed DbCommand (269ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2022-02-18 15:12:22.735 +05:45 [INF] Executed DbCommand (270ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Store].[Store] AS [s]
        WHERE [s].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 15:12:23.042 +05:45 [INF] Executed DbCommand (267ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AppUser].[Type] AS [t]
2022-02-18 15:12:23.327 +05:45 [INF] Executed DbCommand (268ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [App].[PermissionGroup] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 15:12:23.601 +05:45 [INF] Executed DbCommand (270ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [App].[PermissionGroup] AS [p]
2022-02-18 15:12:23.927 +05:45 [INF] Executed DbCommand (271ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [App].[Permission] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 15:12:24.206 +05:45 [INF] Executed DbCommand (273ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [App].[Permission] AS [p]
2022-02-18 15:12:24.488 +05:45 [INF] Executed DbCommand (269ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppUser].[Role] AS [r]
        WHERE [r].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 15:12:24.766 +05:45 [INF] Executed DbCommand (267ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppUser].[AppUser] AS [a]
        WHERE [a].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 15:12:25.086 +05:45 [INF] Executed DbCommand (269ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Active], [a].[AddressId], [a].[AdminComment], [a].[AppUserTypeId], [a].[CannotLoginUntilDate], [a].[CreatedBy], [a].[CreatedOn], [a].[DepartmentId], [a].[Email], [a].[FacebookUserId], [a].[FailedLoginAttempts], [a].[FirstName], [a].[GoogleUserId], [a].[IsDeleted], [a].[IsEmailVerified], [a].[IsPhoneVerified], [a].[IsSystemAccount], [a].[JobTitle], [a].[LastName], [a].[LimitedToStores], [a].[MiddleName], [a].[ModifiedBy], [a].[ModifiedOn], [a].[PhoneNumber], [a].[RegisteredInStoreId], [a].[RequireReLogin], [a].[SystemName], [a].[Username]
FROM [AppUser].[AppUser] AS [a]
WHERE ([a].[IsDeleted] <> CAST(1 AS bit)) AND ([a].[Username] = N'superadmin')
2022-02-18 15:12:25.532 +05:45 [INF] Executed DbCommand (268ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customer].[Gender] AS [g]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 15:12:25.813 +05:45 [INF] Executed DbCommand (271ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Setting].[Seo] AS [s]
        WHERE [s].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 15:12:26.208 +05:45 [INF] Executed DbCommand (286ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Address].[Country] AS [c]
        WHERE [c].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 15:12:26.521 +05:45 [INF] Executed DbCommand (276ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Store].[ImageType] AS [i]
WHERE [i].[IsDeleted] <> CAST(1 AS bit)
2022-02-18 15:12:26.799 +05:45 [INF] Executed DbCommand (267ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Vendor].[DocumentType] AS [d]
2022-02-18 15:12:27.077 +05:45 [INF] Executed DbCommand (269ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Vendor].[Type] AS [t]
2022-02-18 15:12:27.352 +05:45 [INF] Executed DbCommand (267ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Vendor].[Status] AS [s]
2022-02-18 15:12:27.627 +05:45 [INF] Executed DbCommand (267ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Tax].[Category] AS [c]
        WHERE [c].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 15:12:27.906 +05:45 [INF] Executed DbCommand (272ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Tax].[Setting] AS [s]
        WHERE [s].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 15:12:28.182 +05:45 [INF] Executed DbCommand (268ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Shipping].[DeliveryDateRange] AS [d]
        WHERE [d].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 15:12:28.458 +05:45 [INF] Executed DbCommand (269ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Shipping].[ProductAvailabilityRange] AS [p]
        WHERE [p].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 15:12:28.733 +05:45 [INF] Executed DbCommand (267ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Payment].[PaymentMode] AS [p]
2022-02-18 15:12:29.007 +05:45 [INF] Executed DbCommand (267ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [GroupManagement].[NotificationType] AS [n]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 15:12:29.282 +05:45 [INF] Executed DbCommand (269ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [GroupManagement].[SendOption] AS [s]
2022-02-18 15:12:29.554 +05:45 [INF] Executed DbCommand (267ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Contact].[IssueType] AS [i]
        WHERE [i].[IsDeleted] <> CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 15:12:29.829 +05:45 [INF] Executed DbCommand (267ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SectionGroups] AS [s]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2022-02-18 15:12:30.739 +05:45 [INF] User profile is available. Using 'C:\Users\krennova\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-02-18 15:12:30.883 +05:45 [INF] Starting Hangfire Server using job storage: 'Hangfire.MemoryStorage.MemoryStorage'
2022-02-18 15:12:30.884 +05:45 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2022-02-18 15:12:31.137 +05:45 [INF] Server desktop-03qevr8:9032:5a122a0d successfully announced in 216.5113 ms
2022-02-18 15:12:31.154 +05:45 [INF] Server desktop-03qevr8:9032:5a122a0d is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2022-02-18 15:12:31.452 +05:45 [INF] Server desktop-03qevr8:9032:5a122a0d all the dispatchers started
2022-02-18 15:12:31.507 +05:45 [INF] Request starting HTTP/1.1 GET http://localhost:44375/index.html  
2022-02-18 15:12:31.507 +05:45 [INF] Request starting HTTP/1.1 DEBUG http://localhost:50254/  0
2022-02-18 15:12:31.545 +05:45 [INF] Request finished in 39.9699ms 200 
2022-02-18 15:12:31.793 +05:45 [INF] Request finished in 291.1021ms 200 text/html;charset=utf-8
2022-02-18 15:12:31.845 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/api/AppUsers/Login application/json-patch+json 73
2022-02-18 15:12:31.855 +05:45 [INF] CORS policy execution failed.
2022-02-18 15:12:31.855 +05:45 [INF] Request origin https://localhost:44375 does not have permission to access the resource.
2022-02-18 15:12:32.227 +05:45 [INF] Request starting HTTP/1.1 GET http://localhost:44375/swagger/v1/swagger.json  
2022-02-18 15:12:32.844 +05:45 [INF] Executing endpoint 'PreSchool.Controllers.AppUsersController.Login (PreSchool)'
2022-02-18 15:12:32.901 +05:45 [INF] Route matched with {action = "Login", controller = "AppUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[PreSchool.Application.Services.AppUsers.Models.Dtos.ValidUserDto] Login(PreSchool.Application.Models.AppUsers.Queries.Login) on controller PreSchool.Controllers.AppUsersController (PreSchool).
2022-02-18 15:12:33.352 +05:45 [INF] Executing action method PreSchool.Controllers.AppUsersController.Login (PreSchool) - Validation state: "Valid"
2022-02-18 15:12:33.367 +05:45 [INF] Entity Framework Core 3.1.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled 
2022-02-18 15:12:34.028 +05:45 [INF] Executed DbCommand (407ms) [Parameters=[@__loginCommand_UserName_0='test.demo1@yopmail.com' (Size = 128), @__loginCommand_AppUserTypeId_1='0'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Active], [t].[AddressId], [t].[AdminComment], [t].[AppUserTypeId], [t].[CannotLoginUntilDate], [t].[CreatedBy], [t].[CreatedOn], [t].[DepartmentId], [t].[Email], [t].[FacebookUserId], [t].[FailedLoginAttempts], [t].[FirstName], [t].[GoogleUserId], [t].[IsDeleted], [t].[IsEmailVerified], [t].[IsPhoneVerified], [t].[IsSystemAccount], [t].[JobTitle], [t].[LastName], [t].[LimitedToStores], [t].[MiddleName], [t].[ModifiedBy], [t].[ModifiedOn], [t].[PhoneNumber], [t].[RegisteredInStoreId], [t].[RequireReLogin], [t].[SystemName], [t].[Username], [p].[Id], [p].[AppUserId], [p].[CreatedOn], [p].[EnablePasswordLifetime], [p].[IsCurrent], [p].[PasswordExpiredOn], [p].[PasswordHash], [p].[PasswordSalt], [p].[RequiredPasswordChange], [l].[Id], [l].[AppUserId], [l].[IpAddress], [l].[LoginDateTime], [t0].[Id], [t0].[AppUserId], [t0].[CreatedBy], [t0].[CreatedOn], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedOn], [t0].[RoleId], [t1].[Id], [t1].[AppUserId], [t1].[CreatedBy], [t1].[CreatedOn], [t1].[IsDeleted], [t1].[ModifiedBy], [t1].[ModifiedOn], [t1].[StoreId], [t2].[Id], [t2].[AppUserId], [t2].[CreatedBy], [t2].[CreatedOn], [t2].[IsAssociateUser], [t2].[IsDeleted], [t2].[ModifiedBy], [t2].[ModifiedOn], [t2].[VendorId]
FROM (
    SELECT TOP(1) [a].[Id], [a].[Active], [a].[AddressId], [a].[AdminComment], [a].[AppUserTypeId], [a].[CannotLoginUntilDate], [a].[CreatedBy], [a].[CreatedOn], [a].[DepartmentId], [a].[Email], [a].[FacebookUserId], [a].[FailedLoginAttempts], [a].[FirstName], [a].[GoogleUserId], [a].[IsDeleted], [a].[IsEmailVerified], [a].[IsPhoneVerified], [a].[IsSystemAccount], [a].[JobTitle], [a].[LastName], [a].[LimitedToStores], [a].[MiddleName], [a].[ModifiedBy], [a].[ModifiedOn], [a].[PhoneNumber], [a].[RegisteredInStoreId], [a].[RequireReLogin], [a].[SystemName], [a].[Username]
    FROM [AppUser].[AppUser] AS [a]
    WHERE ([a].[IsDeleted] <> CAST(1 AS bit)) AND (([a].[Username] = @__loginCommand_UserName_0) AND ([a].[AppUserTypeId] = @__loginCommand_AppUserTypeId_1))
) AS [t]
LEFT JOIN [AppUser].[Password] AS [p] ON [t].[Id] = [p].[AppUserId]
LEFT JOIN [AppUser].[LoginHistory] AS [l] ON [t].[Id] = [l].[AppUserId]
LEFT JOIN (
    SELECT [a0].[Id], [a0].[AppUserId], [a0].[CreatedBy], [a0].[CreatedOn], [a0].[IsDeleted], [a0].[ModifiedBy], [a0].[ModifiedOn], [a0].[RoleId]
    FROM [AppUser].[AppUserRole] AS [a0]
    WHERE [a0].[IsDeleted] <> CAST(1 AS bit)
) AS [t0] ON [t].[Id] = [t0].[AppUserId]
LEFT JOIN (
    SELECT [u].[Id], [u].[AppUserId], [u].[CreatedBy], [u].[CreatedOn], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedOn], [u].[StoreId]
    FROM [Store].[User] AS [u]
    WHERE [u].[IsDeleted] <> CAST(1 AS bit)
) AS [t1] ON [t].[Id] = [t1].[AppUserId]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[AppUserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[IsAssociateUser], [u0].[IsDeleted], [u0].[ModifiedBy], [u0].[ModifiedOn], [u0].[VendorId]
    FROM [Vendor].[User] AS [u0]
    WHERE [u0].[IsDeleted] <> CAST(1 AS bit)
) AS [t2] ON [t].[Id] = [t2].[AppUserId]
ORDER BY [t].[Id], [p].[Id], [l].[Id], [t0].[Id], [t1].[Id], [t2].[Id]
2022-02-18 15:12:34.050 +05:45 [INF] Executed action method PreSchool.Controllers.AppUsersController.Login (PreSchool), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 691.3805ms.
2022-02-18 15:12:34.060 +05:45 [INF] Executing ObjectResult, writing value of type 'PreSchool.Application.Services.AppUsers.Models.Dtos.ValidUserDto'.
2022-02-18 15:12:34.105 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/profiler/results application/json 45
2022-02-18 15:12:34.112 +05:45 [INF] Executed action PreSchool.Controllers.AppUsersController.Login (PreSchool) in 1201.6752ms
2022-02-18 15:12:34.112 +05:45 [INF] Executed endpoint 'PreSchool.Controllers.AppUsersController.Login (PreSchool)'
2022-02-18 15:12:34.116 +05:45 [INF] HTTP POST /api/AppUsers/Login responded 200 in 1271.3094 ms
2022-02-18 15:12:34.127 +05:45 [INF] Request finished in 2281.5831ms 200 application/json; charset=utf-8
2022-02-18 15:12:34.128 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/profiler/results application/json 45
2022-02-18 15:12:34.164 +05:45 [INF] Request finished in 36.6701ms 200 application/json
2022-02-18 15:12:34.174 +05:45 [INF] Request finished in 69.3088ms 200 application/json
2022-02-18 15:12:35.158 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/profiler/results application/json 45
2022-02-18 15:12:35.159 +05:45 [INF] Request finished in 2931.6292ms 200 application/json;charset=utf-8
2022-02-18 15:12:35.159 +05:45 [INF] Request finished in 0.6876ms 404 text/plain
2022-02-18 15:12:35.159 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/profiler/results application/json 45
2022-02-18 15:12:35.159 +05:45 [INF] Request finished in 0.4052ms 200 application/json
2022-02-18 15:12:40.141 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/api/AppUsers/Login application/json-patch+json 73
2022-02-18 15:12:40.142 +05:45 [INF] CORS policy execution failed.
2022-02-18 15:12:40.142 +05:45 [INF] Request origin https://localhost:44375 does not have permission to access the resource.
2022-02-18 15:12:40.157 +05:45 [INF] Executing endpoint 'PreSchool.Controllers.AppUsersController.Login (PreSchool)'
2022-02-18 15:12:40.159 +05:45 [INF] Route matched with {action = "Login", controller = "AppUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[PreSchool.Application.Services.AppUsers.Models.Dtos.ValidUserDto] Login(PreSchool.Application.Models.AppUsers.Queries.Login) on controller PreSchool.Controllers.AppUsersController (PreSchool).
2022-02-18 15:12:40.216 +05:45 [INF] Executing action method PreSchool.Controllers.AppUsersController.Login (PreSchool) - Validation state: "Valid"
2022-02-18 15:12:40.258 +05:45 [INF] Entity Framework Core 3.1.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled 
2022-02-18 15:12:40.552 +05:45 [INF] Executed DbCommand (285ms) [Parameters=[@__loginCommand_UserName_0='test.demo1@yopmail.com' (Size = 128), @__loginCommand_AppUserTypeId_1='0'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Active], [t].[AddressId], [t].[AdminComment], [t].[AppUserTypeId], [t].[CannotLoginUntilDate], [t].[CreatedBy], [t].[CreatedOn], [t].[DepartmentId], [t].[Email], [t].[FacebookUserId], [t].[FailedLoginAttempts], [t].[FirstName], [t].[GoogleUserId], [t].[IsDeleted], [t].[IsEmailVerified], [t].[IsPhoneVerified], [t].[IsSystemAccount], [t].[JobTitle], [t].[LastName], [t].[LimitedToStores], [t].[MiddleName], [t].[ModifiedBy], [t].[ModifiedOn], [t].[PhoneNumber], [t].[RegisteredInStoreId], [t].[RequireReLogin], [t].[SystemName], [t].[Username], [p].[Id], [p].[AppUserId], [p].[CreatedOn], [p].[EnablePasswordLifetime], [p].[IsCurrent], [p].[PasswordExpiredOn], [p].[PasswordHash], [p].[PasswordSalt], [p].[RequiredPasswordChange], [l].[Id], [l].[AppUserId], [l].[IpAddress], [l].[LoginDateTime], [t0].[Id], [t0].[AppUserId], [t0].[CreatedBy], [t0].[CreatedOn], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedOn], [t0].[RoleId], [t1].[Id], [t1].[AppUserId], [t1].[CreatedBy], [t1].[CreatedOn], [t1].[IsDeleted], [t1].[ModifiedBy], [t1].[ModifiedOn], [t1].[StoreId], [t2].[Id], [t2].[AppUserId], [t2].[CreatedBy], [t2].[CreatedOn], [t2].[IsAssociateUser], [t2].[IsDeleted], [t2].[ModifiedBy], [t2].[ModifiedOn], [t2].[VendorId]
FROM (
    SELECT TOP(1) [a].[Id], [a].[Active], [a].[AddressId], [a].[AdminComment], [a].[AppUserTypeId], [a].[CannotLoginUntilDate], [a].[CreatedBy], [a].[CreatedOn], [a].[DepartmentId], [a].[Email], [a].[FacebookUserId], [a].[FailedLoginAttempts], [a].[FirstName], [a].[GoogleUserId], [a].[IsDeleted], [a].[IsEmailVerified], [a].[IsPhoneVerified], [a].[IsSystemAccount], [a].[JobTitle], [a].[LastName], [a].[LimitedToStores], [a].[MiddleName], [a].[ModifiedBy], [a].[ModifiedOn], [a].[PhoneNumber], [a].[RegisteredInStoreId], [a].[RequireReLogin], [a].[SystemName], [a].[Username]
    FROM [AppUser].[AppUser] AS [a]
    WHERE ([a].[IsDeleted] <> CAST(1 AS bit)) AND (([a].[Username] = @__loginCommand_UserName_0) AND ([a].[AppUserTypeId] = @__loginCommand_AppUserTypeId_1))
) AS [t]
LEFT JOIN [AppUser].[Password] AS [p] ON [t].[Id] = [p].[AppUserId]
LEFT JOIN [AppUser].[LoginHistory] AS [l] ON [t].[Id] = [l].[AppUserId]
LEFT JOIN (
    SELECT [a0].[Id], [a0].[AppUserId], [a0].[CreatedBy], [a0].[CreatedOn], [a0].[IsDeleted], [a0].[ModifiedBy], [a0].[ModifiedOn], [a0].[RoleId]
    FROM [AppUser].[AppUserRole] AS [a0]
    WHERE [a0].[IsDeleted] <> CAST(1 AS bit)
) AS [t0] ON [t].[Id] = [t0].[AppUserId]
LEFT JOIN (
    SELECT [u].[Id], [u].[AppUserId], [u].[CreatedBy], [u].[CreatedOn], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedOn], [u].[StoreId]
    FROM [Store].[User] AS [u]
    WHERE [u].[IsDeleted] <> CAST(1 AS bit)
) AS [t1] ON [t].[Id] = [t1].[AppUserId]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[AppUserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[IsAssociateUser], [u0].[IsDeleted], [u0].[ModifiedBy], [u0].[ModifiedOn], [u0].[VendorId]
    FROM [Vendor].[User] AS [u0]
    WHERE [u0].[IsDeleted] <> CAST(1 AS bit)
) AS [t2] ON [t].[Id] = [t2].[AppUserId]
ORDER BY [t].[Id], [p].[Id], [l].[Id], [t0].[Id], [t1].[Id], [t2].[Id]
2022-02-18 15:12:40.554 +05:45 [INF] Executed action method PreSchool.Controllers.AppUsersController.Login (PreSchool), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 337.1653ms.
2022-02-18 15:12:40.555 +05:45 [INF] Executing ObjectResult, writing value of type 'PreSchool.Application.Services.AppUsers.Models.Dtos.ValidUserDto'.
2022-02-18 15:12:40.556 +05:45 [INF] Executed action PreSchool.Controllers.AppUsersController.Login (PreSchool) in 396.9466ms
2022-02-18 15:12:40.557 +05:45 [INF] Executed endpoint 'PreSchool.Controllers.AppUsersController.Login (PreSchool)'
2022-02-18 15:12:40.557 +05:45 [INF] HTTP POST /api/AppUsers/Login responded 200 in 399.6351 ms
2022-02-18 15:12:40.558 +05:45 [INF] Request finished in 417.5832ms 200 application/json; charset=utf-8
2022-02-18 15:12:40.565 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/profiler/results application/json 45
2022-02-18 15:12:40.565 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/profiler/results application/json 45
2022-02-18 15:12:40.568 +05:45 [INF] Request finished in 2.7506ms 200 application/json
2022-02-18 15:12:40.569 +05:45 [INF] Request finished in 4.3766ms 200 application/json
2022-02-18 15:12:50.800 +05:45 [INF] Request starting HTTP/1.1 GET http://localhost:44375/index.html  
2022-02-18 15:12:50.804 +05:45 [INF] Request finished in 3.7672ms 200 text/html;charset=utf-8
2022-02-18 15:12:51.137 +05:45 [INF] Request starting HTTP/1.1 GET http://localhost:44375/swagger/v1/swagger.json  
2022-02-18 15:12:51.139 +05:45 [INF] Request starting HTTP/1.1 GET http://localhost:44375/favicon-32x32.png  
2022-02-18 15:12:51.181 +05:45 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2022-02-18 15:12:51.181 +05:45 [INF] Request finished in 42.0392ms 200 image/png
2022-02-18 15:12:52.250 +05:45 [INF] Request finished in 1113.1645ms 200 application/json;charset=utf-8
2022-02-18 15:12:52.259 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/profiler/results application/json 45
2022-02-18 15:12:52.259 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/profiler/results application/json 45
2022-02-18 15:12:52.261 +05:45 [INF] Request finished in 1.7017ms 200 application/json
2022-02-18 15:12:52.261 +05:45 [INF] Request finished in 1.5982ms 200 application/json
2022-02-18 15:13:28.350 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/api/AppUsers/Login application/json-patch+json 91
2022-02-18 15:13:28.351 +05:45 [INF] CORS policy execution failed.
2022-02-18 15:13:28.351 +05:45 [INF] Request origin https://localhost:44375 does not have permission to access the resource.
2022-02-18 15:13:28.353 +05:45 [INF] Executing endpoint 'PreSchool.Controllers.AppUsersController.Login (PreSchool)'
2022-02-18 15:13:28.354 +05:45 [INF] Route matched with {action = "Login", controller = "AppUsers"}. Executing controller action with signature System.Threading.Tasks.Task`1[PreSchool.Application.Services.AppUsers.Models.Dtos.ValidUserDto] Login(PreSchool.Application.Models.AppUsers.Queries.Login) on controller PreSchool.Controllers.AppUsersController (PreSchool).
2022-02-18 15:13:28.425 +05:45 [INF] Executing action method PreSchool.Controllers.AppUsersController.Login (PreSchool) - Validation state: "Valid"
2022-02-18 15:13:28.427 +05:45 [INF] Entity Framework Core 3.1.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled 
2022-02-18 15:13:28.731 +05:45 [INF] Executed DbCommand (300ms) [Parameters=[@__loginCommand_UserName_0='test.demo1@yopmail.com' (Size = 128), @__loginCommand_AppUserTypeId_1='3'], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Active], [t].[AddressId], [t].[AdminComment], [t].[AppUserTypeId], [t].[CannotLoginUntilDate], [t].[CreatedBy], [t].[CreatedOn], [t].[DepartmentId], [t].[Email], [t].[FacebookUserId], [t].[FailedLoginAttempts], [t].[FirstName], [t].[GoogleUserId], [t].[IsDeleted], [t].[IsEmailVerified], [t].[IsPhoneVerified], [t].[IsSystemAccount], [t].[JobTitle], [t].[LastName], [t].[LimitedToStores], [t].[MiddleName], [t].[ModifiedBy], [t].[ModifiedOn], [t].[PhoneNumber], [t].[RegisteredInStoreId], [t].[RequireReLogin], [t].[SystemName], [t].[Username], [p].[Id], [p].[AppUserId], [p].[CreatedOn], [p].[EnablePasswordLifetime], [p].[IsCurrent], [p].[PasswordExpiredOn], [p].[PasswordHash], [p].[PasswordSalt], [p].[RequiredPasswordChange], [l].[Id], [l].[AppUserId], [l].[IpAddress], [l].[LoginDateTime], [t0].[Id], [t0].[AppUserId], [t0].[CreatedBy], [t0].[CreatedOn], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedOn], [t0].[RoleId], [t1].[Id], [t1].[AppUserId], [t1].[CreatedBy], [t1].[CreatedOn], [t1].[IsDeleted], [t1].[ModifiedBy], [t1].[ModifiedOn], [t1].[StoreId], [t2].[Id], [t2].[AppUserId], [t2].[CreatedBy], [t2].[CreatedOn], [t2].[IsAssociateUser], [t2].[IsDeleted], [t2].[ModifiedBy], [t2].[ModifiedOn], [t2].[VendorId]
FROM (
    SELECT TOP(1) [a].[Id], [a].[Active], [a].[AddressId], [a].[AdminComment], [a].[AppUserTypeId], [a].[CannotLoginUntilDate], [a].[CreatedBy], [a].[CreatedOn], [a].[DepartmentId], [a].[Email], [a].[FacebookUserId], [a].[FailedLoginAttempts], [a].[FirstName], [a].[GoogleUserId], [a].[IsDeleted], [a].[IsEmailVerified], [a].[IsPhoneVerified], [a].[IsSystemAccount], [a].[JobTitle], [a].[LastName], [a].[LimitedToStores], [a].[MiddleName], [a].[ModifiedBy], [a].[ModifiedOn], [a].[PhoneNumber], [a].[RegisteredInStoreId], [a].[RequireReLogin], [a].[SystemName], [a].[Username]
    FROM [AppUser].[AppUser] AS [a]
    WHERE ([a].[IsDeleted] <> CAST(1 AS bit)) AND (([a].[Username] = @__loginCommand_UserName_0) AND ([a].[AppUserTypeId] = @__loginCommand_AppUserTypeId_1))
) AS [t]
LEFT JOIN [AppUser].[Password] AS [p] ON [t].[Id] = [p].[AppUserId]
LEFT JOIN [AppUser].[LoginHistory] AS [l] ON [t].[Id] = [l].[AppUserId]
LEFT JOIN (
    SELECT [a0].[Id], [a0].[AppUserId], [a0].[CreatedBy], [a0].[CreatedOn], [a0].[IsDeleted], [a0].[ModifiedBy], [a0].[ModifiedOn], [a0].[RoleId]
    FROM [AppUser].[AppUserRole] AS [a0]
    WHERE [a0].[IsDeleted] <> CAST(1 AS bit)
) AS [t0] ON [t].[Id] = [t0].[AppUserId]
LEFT JOIN (
    SELECT [u].[Id], [u].[AppUserId], [u].[CreatedBy], [u].[CreatedOn], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedOn], [u].[StoreId]
    FROM [Store].[User] AS [u]
    WHERE [u].[IsDeleted] <> CAST(1 AS bit)
) AS [t1] ON [t].[Id] = [t1].[AppUserId]
LEFT JOIN (
    SELECT [u0].[Id], [u0].[AppUserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[IsAssociateUser], [u0].[IsDeleted], [u0].[ModifiedBy], [u0].[ModifiedOn], [u0].[VendorId]
    FROM [Vendor].[User] AS [u0]
    WHERE [u0].[IsDeleted] <> CAST(1 AS bit)
) AS [t2] ON [t].[Id] = [t2].[AppUserId]
ORDER BY [t].[Id], [p].[Id], [l].[Id], [t0].[Id], [t1].[Id], [t2].[Id]
2022-02-18 15:13:29.591 +05:45 [INF] Executed DbCommand (278ms) [Parameters=[@p3='9087', @p0='0' (Nullable = true), @p1='2022-02-18T15:13:28' (Nullable = true), @p2='False'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AppUser].[AppUser] SET [ModifiedBy] = @p0, [ModifiedOn] = @p1, [RequireReLogin] = @p2
WHERE [Id] = @p3;
SELECT @@ROWCOUNT;
2022-02-18 15:13:29.890 +05:45 [INF] Executed DbCommand (274ms) [Parameters=[@p0='9087', @p1='::1' (Size = 4000), @p2='2022-02-18T15:13:28'], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AppUser].[LoginHistory] ([AppUserId], [IpAddress], [LoginDateTime])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [AppUser].[LoginHistory]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2022-02-18 15:13:30.592 +05:45 [INF] Executed DbCommand (274ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [r].[PermissionId]
FROM [AppUser].[RolePermission] AS [r]
WHERE ([r].[IsDeleted] <> CAST(1 AS bit)) AND [r].[RoleId] IN (4)
2022-02-18 15:13:30.869 +05:45 [INF] Executed action method PreSchool.Controllers.AppUsersController.Login (PreSchool), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 2443.8741ms.
2022-02-18 15:13:30.870 +05:45 [INF] Executing ObjectResult, writing value of type 'PreSchool.Application.Services.AppUsers.Models.Dtos.ValidUserDto'.
2022-02-18 15:13:30.871 +05:45 [INF] Executed action PreSchool.Controllers.AppUsersController.Login (PreSchool) in 2517.203ms
2022-02-18 15:13:30.872 +05:45 [INF] Executed endpoint 'PreSchool.Controllers.AppUsersController.Login (PreSchool)'
2022-02-18 15:13:30.872 +05:45 [INF] HTTP POST /api/AppUsers/Login responded 200 in 2518.8601 ms
2022-02-18 15:13:30.879 +05:45 [INF] Request finished in 2528.686ms 200 application/json; charset=utf-8
2022-02-18 15:13:30.915 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/profiler/results application/json 45
2022-02-18 15:13:30.917 +05:45 [INF] Request finished in 1.6411ms 200 application/json
2022-02-18 15:13:30.934 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/profiler/results application/json 45
2022-02-18 15:13:30.934 +05:45 [INF] Request finished in 0.5603ms 200 application/json
2022-02-18 15:25:11.229 +05:45 [INF] Request starting HTTP/1.1 POST http://localhost:44375/api/Customers application/json-patch+json 194
2022-02-18 15:25:11.231 +05:45 [INF] CORS policy execution failed.
2022-02-18 15:25:11.232 +05:45 [INF] Request origin https://localhost:44375 does not have permission to access the resource.
2022-02-18 15:25:11.234 +05:45 [INF] Executing endpoint 'PreSchool.Controllers.CustomersController.InsertCustomer (PreSchool)'
2022-02-18 15:25:11.241 +05:45 [INF] Route matched with {action = "InsertCustomer", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Int32] InsertCustomer(PreSchool.Application.Services.Customers.Models.Commands.InsertCustomer) on controller PreSchool.Controllers.CustomersController (PreSchool).
2022-02-18 15:25:11.313 +05:45 [INF] Executing action method PreSchool.Controllers.CustomersController.InsertCustomer (PreSchool) - Validation state: "Valid"
2022-02-18 15:25:21.855 +05:45 [INF] Entity Framework Core 3.1.8 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled 
2022-02-18 15:25:23.337 +05:45 [INF] Executed DbCommand (283ms) [Parameters=[@__customer_Email_0='dumarumanish@gmail.com' (Size = 128)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[Active], [t0].[AddressId], [t0].[AdminComment], [t0].[AppUserTypeId], [t0].[CannotLoginUntilDate], [t0].[CreatedBy], [t0].[CreatedOn], [t0].[DepartmentId], [t0].[Email], [t0].[FacebookUserId], [t0].[FailedLoginAttempts], [t0].[FirstName], [t0].[GoogleUserId], [t0].[IsDeleted], [t0].[IsEmailVerified], [t0].[IsPhoneVerified], [t0].[IsSystemAccount], [t0].[JobTitle], [t0].[LastName], [t0].[LimitedToStores], [t0].[MiddleName], [t0].[ModifiedBy], [t0].[ModifiedOn], [t0].[PhoneNumber], [t0].[RegisteredInStoreId], [t0].[RequireReLogin], [t0].[SystemName], [t0].[Username], [t0].[Id0], [t0].[AppUserId], [t0].[CustomerId], [t0].[Id1], [t0].[CompanyName], [t0].[CreatedBy0], [t0].[CreatedOn0], [t0].[DateOfBirth], [t0].[Email0], [t0].[FirstName0], [t0].[GenderId], [t0].[IsDeleted0], [t0].[IsIndividual], [t0].[LastName0], [t0].[MiddleName0], [t0].[ModifiedBy0], [t0].[ModifiedOn0], [t0].[PanNumber], [t0].[PhoneNumber0], [t1].[Id], [t1].[AppUserId], [t1].[CreatedBy], [t1].[CreatedOn], [t1].[IsAssociateUser], [t1].[IsDeleted], [t1].[ModifiedBy], [t1].[ModifiedOn], [t1].[VendorId]
FROM (
    SELECT TOP(1) [a].[Id], [a].[Active], [a].[AddressId], [a].[AdminComment], [a].[AppUserTypeId], [a].[CannotLoginUntilDate], [a].[CreatedBy], [a].[CreatedOn], [a].[DepartmentId], [a].[Email], [a].[FacebookUserId], [a].[FailedLoginAttempts], [a].[FirstName], [a].[GoogleUserId], [a].[IsDeleted], [a].[IsEmailVerified], [a].[IsPhoneVerified], [a].[IsSystemAccount], [a].[JobTitle], [a].[LastName], [a].[LimitedToStores], [a].[MiddleName], [a].[ModifiedBy], [a].[ModifiedOn], [a].[PhoneNumber], [a].[RegisteredInStoreId], [a].[RequireReLogin], [a].[SystemName], [a].[Username], [a0].[Id] AS [Id0], [a0].[AppUserId], [a0].[CustomerId], [t].[Id] AS [Id1], [t].[CompanyName], [t].[CreatedBy] AS [CreatedBy0], [t].[CreatedOn] AS [CreatedOn0], [t].[DateOfBirth], [t].[Email] AS [Email0], [t].[FirstName] AS [FirstName0], [t].[GenderId], [t].[IsDeleted] AS [IsDeleted0], [t].[IsIndividual], [t].[LastName] AS [LastName0], [t].[MiddleName] AS [MiddleName0], [t].[ModifiedBy] AS [ModifiedBy0], [t].[ModifiedOn] AS [ModifiedOn0], [t].[PanNumber], [t].[PhoneNumber] AS [PhoneNumber0]
    FROM [AppUser].[AppUser] AS [a]
    LEFT JOIN [Customer].[AppUserMapping] AS [a0] ON [a].[Id] = [a0].[AppUserId]
    LEFT JOIN (
        SELECT [c].[Id], [c].[CompanyName], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[Email], [c].[FirstName], [c].[GenderId], [c].[IsDeleted], [c].[IsIndividual], [c].[LastName], [c].[MiddleName], [c].[ModifiedBy], [c].[ModifiedOn], [c].[PanNumber], [c].[PhoneNumber]
        FROM [Customer].[Customer] AS [c]
        WHERE [c].[IsDeleted] <> CAST(1 AS bit)
    ) AS [t] ON [a0].[CustomerId] = [t].[Id]
    WHERE ([a].[IsDeleted] <> CAST(1 AS bit)) AND ((([a].[Username] = @__customer_Email_0) AND (([a].[IsEmailVerified] <> CAST(1 AS bit)) AND ([a].[IsPhoneVerified] <> CAST(1 AS bit)))) AND ([a].[IsDeleted] <> CAST(1 AS bit)))
) AS [t0]
LEFT JOIN (
    SELECT [u].[Id], [u].[AppUserId], [u].[CreatedBy], [u].[CreatedOn], [u].[IsAssociateUser], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedOn], [u].[VendorId]
    FROM [Vendor].[User] AS [u]
    WHERE [u].[IsDeleted] <> CAST(1 AS bit)
) AS [t1] ON [t0].[Id] = [t1].[AppUserId]
ORDER BY [t0].[Id], [t1].[Id]
2022-02-18 15:25:25.611 +05:45 [INF] Executed DbCommand (277ms) [Parameters=[@__customer_Email_0='dumarumanish@gmail.com' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CompanyName], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[Email], [c].[FirstName], [c].[GenderId], [c].[IsDeleted], [c].[IsIndividual], [c].[LastName], [c].[MiddleName], [c].[ModifiedBy], [c].[ModifiedOn], [c].[PanNumber], [c].[PhoneNumber], [a].[Id], [a].[AppUserId], [a].[CustomerId], [t].[Id], [t].[Active], [t].[AddressId], [t].[AdminComment], [t].[AppUserTypeId], [t].[CannotLoginUntilDate], [t].[CreatedBy], [t].[CreatedOn], [t].[DepartmentId], [t].[Email], [t].[FacebookUserId], [t].[FailedLoginAttempts], [t].[FirstName], [t].[GoogleUserId], [t].[IsDeleted], [t].[IsEmailVerified], [t].[IsPhoneVerified], [t].[IsSystemAccount], [t].[JobTitle], [t].[LastName], [t].[LimitedToStores], [t].[MiddleName], [t].[ModifiedBy], [t].[ModifiedOn], [t].[PhoneNumber], [t].[RegisteredInStoreId], [t].[RequireReLogin], [t].[SystemName], [t].[Username]
FROM [Customer].[Customer] AS [c]
LEFT JOIN [Customer].[AppUserMapping] AS [a] ON [c].[Id] = [a].[CustomerId]
LEFT JOIN (
    SELECT [a0].[Id], [a0].[Active], [a0].[AddressId], [a0].[AdminComment], [a0].[AppUserTypeId], [a0].[CannotLoginUntilDate], [a0].[CreatedBy], [a0].[CreatedOn], [a0].[DepartmentId], [a0].[Email], [a0].[FacebookUserId], [a0].[FailedLoginAttempts], [a0].[FirstName], [a0].[GoogleUserId], [a0].[IsDeleted], [a0].[IsEmailVerified], [a0].[IsPhoneVerified], [a0].[IsSystemAccount], [a0].[JobTitle], [a0].[LastName], [a0].[LimitedToStores], [a0].[MiddleName], [a0].[ModifiedBy], [a0].[ModifiedOn], [a0].[Ph